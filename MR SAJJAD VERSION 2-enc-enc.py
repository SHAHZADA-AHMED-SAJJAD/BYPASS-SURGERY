import base64
exec(base64.b64decode("IyBjb2RlIGJ5IFlheWFuIFhEDQojIG15IGZhY2Vib29rICggaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL0tNMzk0NTMgKQ0KIA0KIyAgICAgIChDKSBDb3B5cmlnaHQgNDA3IEF1dGhlbnRpYyBFeHBsb2l0DQojICAgICAgUmVidWlsZCBDb3B5cmlnaHQgQ2FuJ3QgbWFrZSB1IHJlYWwgcHJvZ3JhbW1lcjopDQojICAgICAgQ29kZWQgQnkgWWF5YW4gWEQuDQogDQppbXBvcnQgb3MNCnRyeToNCiAgICBpbXBvcnQgcmVxdWVzdHMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OXXSBNb2R1bCByZXF1ZXN0cyBiZWx1bSB0ZXJpbnN0YWxsIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykNCiANCnRyeToNCiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuIFvDl10gTW9kdWwgRnV0dXJlcyBiZWx1bSB0ZXJpbnN0YWxsIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQ0KIA0KdHJ5Og0KICAgIGltcG9ydCBiczQNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OXXSBNb2R1bCBCczQgYmVsdW0gdGVyaW5zdGFsbCEuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KIA0KaW1wb3J0IHJlcXVlc3RzLCBvcywgcmUsIGJzNCwgc3lzLCBqc29uLCB0aW1lLCByYW5kb20sIGRhdGV0aW1lLCBzdWJwcm9jZXNzDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFlheWFuR2FudGVuZw0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwDQpjdCA9IGRhdGV0aW1lLm5vdygpDQpuID0gY3QubW9udGgNCmJ1bGFuID0gWydKYW51YXJpJywgJ0ZlYnJ1YXJpJywgJ01hcmV0JywgJ0FwcmlsJywgJ01laScsICdKdW5pJywgJ0p1bGknLCAnQWd1c3R1cycsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsICdOb3ZlbWJlcicsICdEZXNlbWJlciddDQp0cnk6DQogICAgaWYgbiA8IDAgb3IgbiA+IDEyOg0KICAgICAgICBleGl0KCkNCiAgICBuVGVtcCA9IG4gLSAxDQpleGNlcHQgVmFsdWVFcnJvcjoNCiAgICBleGl0KCkNCiANCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQ0KdGEgPSBjdXJyZW50LnllYXINCmJ1ID0gY3VycmVudC5tb250aA0KaGEgPSBjdXJyZW50LmRheQ0Kb3AgPSBidWxhbltuVGVtcF0NCndha3R1ID0gJyVzICVzICVzJyUoaGEsb3AsdGEpDQp3YWt0dS5zcGxpdCgnLycpDQojIyMgV0FSTkEgUkFORE9NICMjIw0KUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIDQpNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORw0KQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQpPID0gJ1x4MWJbMTs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQ0KQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUNCkJOID0gJ1x4MWJbMTsxMDdtJyAjIEJFTEFLQU5HIFBVVElIDQpCQkwgPSAnXHgxYlsxOzEwNm0nICMgQkVMQUtBTkcgQklSVSBMQU5HSVQNCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksNCkJCID0gJ1x4MWJbMTsxMDRtJyAjIEJFTEFLQU5HIEJJUlUNCkJLID0gJ1x4MWJbMTsxMDNtJyAjIEJFTEFLQU5HIEtVTklORw0KQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUNCkJNID0gJ1x4MWJbMTsxMDFtJyAjIEJFTEFKQU5HIE1FUkFIDQpCQSA9ICdceDFiWzE7MTAwbScgIyBCRUxBS0FORyBBQlUgQUJVDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyBSRVNQT05TRSBGQUNFQk9PSyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQpkYXRhLGRhdGEyPXt9LHt9DQphbWFuLGNwLHNhbGFoPTAsMCwwDQp1YmFoUCxwd0JhcnU9W10sW10NCkFwayA9IFtdDQpvayA9IFtdDQpjcCA9IFtdDQppZCA9IFtdDQp1c2VyID0gW10NCmxvb3AgPSAwDQp1cmxfbG9va3VwID0gImh0dHBzOi8vbG9va3VwLWlkLmNvbS8iDQp1cmxfbWIgPSAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIg0KdXJsX2lwID0gImh0dHBzOi8vd3d3Lmh0dHBiaW4ub3JnL2lwIg0KdXJsX2dyYXBoID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjB7fSINCmhlYWRlcl9ncnVwID0geyJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChpUGhvbmUxNCw2OyBVOyBDUFUgaVBob25lIE9TIDE1XzQgc2VwZXJ0aSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjAyLjEuNTAgKEtIVE1MLCBzZXBlcnRpIEdlY2tvKSBWZXJzaW9uLzEwLDAgTW9iaWxlLzE5RTI0MSBTYWZhcmkvNjAyLjEgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIn0NCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQ0KYWdlbjEgPSBbJ01vemlsbGEvNS4wIChpUGhvbmUxNCwzOyBVOyBDUFUgaVBob25lIE9TIDE1XzAgc2VwZXJ0aSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjAyLjEuNTAgKEtIVE1MLCBzZXBlcnRpIEdlY2tvKSBWZXJzaS8xMCwwIFNlbHVsZXIvMTlBMzQ2IFNhZmFyaS82MDIuMSddDQphZ2VuMiA9IFsnTW96aWxsYS81LjAgKGlQaG9uZTEyLDE7IFU7IENQVSBpUGhvbmUgT1MgMTNfMCBzZXBlcnRpIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDIuMS41MCAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzEwLDAgU2VsdWxlci8xNUUxNDggU2FmYXJpLzYwMi4xJ10NCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMNCmhoaGgsIGlpaWksIGpqamosIGtra2sgPSAiaW5kZXgucGhwPyIsICJuZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20iLCAiJTJGdG9vbHMlMkZkZWJ1ZyIsICIlMkZhY2Nlc3N0b2tlbiUyRiINCmRkZGQsIGVlZWUsIGZmZmYsIGdnZ2cgPSAibG9naW4iLCAiZGV2aWNlLWJhc2VkIiwgInZhbGlkYXRlLXBhc3N3b3JkIiwgIj9zaGJsPTAiDQphYWFhLCBiYmJiLCBjY2NjID0gInRvb2xzIiwgImRlYnVnIiwgImFjY2Vzc3Rva2VuIg0KI2JhaGFzYSA9ICJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCINCmJhaGFzYSA9ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyINCiNiYWhhc2EgPSAiZW4tVVMsZW47cT0wLjksemgtQ047cT0wLjgsemg7cT0wLjcsaWQ7cT0wLjYsYnM7cT0wLjUiDQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjDQojIyBSQU5ET00gVUENCiN1c2VyX2FnZW50PVsnTW96aWxsYS81LjAgKGlQaG9uZTEyLDE7IFU7IENQVSBpUGhvbmUgT1MgMTNfMCBzZXBlcnRpIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDIuMS41MCAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzEwLDAgU2VsdWxlci8xNUUxNDggU2FmYXJpLzYwMi4xJ10NCnVhc19iYXdhYW4gPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgIg0KIyBsZW1wYW5ra2tra2traw0KdWdlbjI9W10NCnVnZW49W10NCiANCnRyeToNCiAgICBwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dA0KICAgIG9wZW4oJy5wcm94eS50eHQnLCd3Jykud3JpdGUocHJveCkNCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICBleGl0KGUpDQogDQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOg0KICAgIGE9J01vemlsbGEvNS4wIChTeW1iaWFuLzM7IFNlcmllczYwLycNCiAgICBiPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkNCiAgICBjPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkNCiAgICBkPSdOb2tpYScNCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMTAwLCA5OTk5KQ0KICAgIGY9Jy8xMTAuMDIxLjAwMjg7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUzNS4xIChLSFRNTCwgbGlrZSBHZWNrbykgTm9raWFCcm93c2VyLycNCiAgICBnPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkNCiAgICBpPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkNCiAgICBrPSdNb2JpbGUgU2FmYXJpLzUzNS4xJw0KICAgIHVha3U9KGYne2F9e2J9LntjfSB7ZH17ZX17Zn17Z30ue2h9LntpfS57an0ge2t9JykNCiAgICB1Z2VuMi5hcHBlbmQodWFrdSkNCiANCiANCiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJw0KICAgIGI9cmFuZG9tLmNob2ljZShbJzYnLCc3JywnOCcsJzknLCcxMCcsJzExJywnMTInXSkNCiAgICBjPScgZW4tdXM7IEdULScNCiAgICBkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQ0KICAgIGU9cmFuZG9tLnJhbmRyYW5nZSgxLCA5OTkpDQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkNCiAgICBnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJw0KICAgIGg9cmFuZG9tLnJhbmRyYW5nZSg3MywxMDApDQogICAgaT0nMCcNCiAgICBqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQ0KICAgIGs9cmFuZG9tLnJhbmRyYW5nZSg0MCwxNTApDQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgdWFrdTI9KGYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScpDQogICAgdWdlbi5hcHBlbmQodWFrdTIpDQogICAgDQpkZWYgamFsYW4oeik6DQogICAgZm9yIGUgaW4geiArICdcbic6DQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZSkNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRpbWUuc2xlZXAoMC4wMykNCiAgICAgDQpkZWYgbWVudG9kKCk6DQogICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNNRVRIT0QgTUVOVSVzJyUoTixCTSxOKSkNCiAgICBwcmludCgnICVzWyVzMSVzXSBNZXRob2QgMSBmcmVlICglc1JlY29tbWVuZGVkJXMpJyUoTixILE4sSCxOKSkNCiAgICBwcmludCgnIFslczIlc10gTWV0aG9kIDIgbWJhc2ljICglc1JlY29tbWVuZGVkJXMpJyUoSCxOLEgsTikpDQogICAgcHJpbnQoJyBbJXMzJXNdIE1ldGhvZCAzIG1vYmlsZSAoJXNSZWNvbW1lbmRlZCVzKSclKEgsTixILE4pKQ0KIy0tLS0tLS0tIExPQURJTkcgQU5JTUFTSSAtLS0tLS0tLS0tLS0NCmRlZiBsb2FkaW5nKCk6DQogICAgYW5pbWF0aW9uID0gWyJbXHgxYlsxOzkxbeKWoFx4MWJbMG3ilqHilqHilqHilqHilqHilqHilqHilqHilqFdIiwiW1x4MWJbMTs5Mm3ilqDilqBceDFiWzBt4pah4pah4pah4pah4pah4pah4pah4pahXSIsICJbXHgxYlsxOzkzbeKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqHilqHilqHilqHilqFdIiwgIltceDFiWzE7OTRt4pag4pag4pag4pagXHgxYlswbeKWoeKWoeKWoeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5NW3ilqDilqDilqDilqDilqBceDFiWzBt4pah4pah4pah4pah4pahXSIsICJbXHgxYlsxOzk2beKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqHilqHilqHilqFdIiwgIltceDFiWzE7OTdt4pag4pag4pag4pag4pag4pag4pagXHgxYlswbeKWoeKWoeKWoV0iLCAiW1x4MWJbMTs5OG3ilqDilqDilqDilqDilqDilqDilqDilqBceDFiWzBt4pah4pahXSIsICJbXHgxYlsxOzk5beKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG3ilqFdIiwgIltceDFiWzE7OTEwbeKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoOKWoFx4MWJbMG1dIl0NCiAgICBmb3IgaSBpbiByYW5nZSg1MCk6DQogICAgICAgIHRpbWUuc2xlZXAoMC4xKQ0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHIge059W3tIfeKAontOfV0ge0h9TG9hZGluZy4uLntOfSAiICsgYW5pbWF0aW9uW2kgJSBsZW4oYW5pbWF0aW9uKV0gKyJceDFiWzBtICIpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgIHByaW50KCIiKQ0KIyBMT0dPDQpkZWYgbG9nbygpOg0KICAgIHByaW50KGYiIiJ7TX0NCg0K4paI4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKVlyAgICAgIOKWiOKWiOKVlyAgICAg4paI4paI4pWXIOKWiOKWiOKWiOKWiOKWiOKVlyDilojilojilojilojilojilojilZcgDQrilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZcgICAgIOKWiOKWiOKVkSAgICAg4paI4paI4pWR4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWU4pWQ4pWQ4paI4paI4pWXDQrilojilojilojilojilojilojilojilZfilojilojilojilojilojilojilojilZEgICAgIOKWiOKWiOKVkSAgICAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWR4paI4paI4pWRICDilojilojilZENCuKVmuKVkOKVkOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiCAgIOKWiOKWiOKVkeKWiOKWiCAgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVkeKWiOKWiOKVkSAg4paI4paI4pWRDQrilojilojilojilojilojilojilojilZHilojilojilZEgIOKWiOKWiOKVkeKVmuKWiOKWiOKWiOKWiOKWiOKVlOKVneKVmuKWiOKWiOKWiOKWiOKWiOKVlOKVneKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4paI4paI4paI4paI4pWU4pWdDQrilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVnSDilZrilZDilZDilZDilZDilZ0gIOKVmuKVkOKVkOKVkOKVkOKVnSDilZrilZDilZ0gIOKVmuKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVnSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KIiIiKQ0KICAgIHByaW50KCLilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZciKQ0KICAgIHByaW50KGYi4pWRe1B9W3tIfeKAontQfV0gQXV0aG9yICAgIDogTVLihKJTQUpKQUQgICAgICAgICAgICB7Tn3ilZEiKQ0KICAgIHByaW50KGYi4pWRe1B9W3tIfeKAontQfV0gV2hhdHNhcHAgIDogKzg4MDE4NDAtMjE1MTA2ICAgICAgICB7Tn3ilZEiKQ0KICAgIHByaW50KGYi4pWRe1B9W3tIfeKAontQfV0gR2l0aHViICAgIDogU0hBSFpBREEtQUhNRUR7Tn0gIOKVkSIpDQogICAgcHJpbnQoZiLilZF7UH1be0h94oCie1B9XSBTQyBTdGF0dXMgOiBHcmF0aXMgcmFzYSB7SH1QcmVtaXVte1B9ICAgICB7Tn3ilZEiKQ0KICAgIHByaW50KGYi4pWRe1B9W3tIfeKAontQfV0gU3VwcG9ydCAgIDogMzIgJiA2NCAgICAgICAgICAgICAge0594pWRIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIE5ldHdvcmsgICA6IHtIfUlNM3tOfSwge0h9QVhJUy9YTC9UU0VMe059LCB7SH0ze059ICAgICAgICAg4pWRIikNCiAgICBwcmludChmIuKVkXtQfVt7SH3igKJ7UH1dIFNDIFZlcnNpb246IFYtMS4xKHtLfU1S4oSiU0FKSkFEIGFycyB7UH0pICAgICAgICAgICAge0594pWRIikNCiAgICBwcmludCgi4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIikNCiNDUkFDSyBTRUxFU0FJDQpkZWYgaGFzaWwob2ssY3ApOg0KICAgIGlmIGxlbihvaykgIT0gMCBvciBsZW4oY3ApICE9IDA6DQogICAgICAgIHByaW50KGYnXG4lc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslc+KckyVzXSAlc0NSQUNLIEJZIE1S4oSiU0FKSkFEIE1S4oSiU0FKSkFEIFNDIFNFTEVTQUkuLi5cbiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyUoTixILE4sSCxOKSkNCiAgICAgICAgcHJpbnQoZicgJXNbJXMrJXNdIE51bWJlciBvZiBBY2NvdW50cyBPSyA6ICVzJXMlcyclKE4sSCxOLEgsc3RyKGxlbihvaykpLE4pKQ0KICAgICAgICBwcmludChmJyBbJXMrJXNdIE51bWJlciBvZiBBY2NvdW50cyBDUCA6ICVzJXMlcyclKEssTixLLHN0cihsZW4oY3ApKSxOKSkNCiAgICAgICAgY2VrX2NwID0gaW5wdXQoZiJ7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbe0t9P3tOfV0gU2hvdyBDUCBkZXRlY3RvciBvcHRpb25zIFt7SH1Ze059L3tNfXR7Tn1dOiAiKQ0KICAgICAgICBpZiBjZWtfY3AgPT0iIjoNCiAgICAgICAgICAgIHByaW50KGYiXG4gW3tNfSF7Tn1dIERvbid0IGJlIGVtcHR5Iik7aGFzaWwob2ssY3ApDQogICAgICAgIGVsaWYgY2VrX2NwIGluWyJZIiwieSJdOg0KICAgICAgICAgICAgamFsYW4oZiIge059W3tNfSF7Tn1dIFBsYXkgYWlycGxhbmVtb2RlIGZpcnN0Iik7dGltZS5zbGVlcCg1KQ0KICAgICAgICAgICAgd3c9aW5wdXQoZiJcbiB7Tn1be0t9P3tOfV0gQ2hhbmdlIHBhc3N3b3JkIHdoZW4ge0JNfVRBUCBZRVN7Tn0gW3tIfVl7Tn0ve019dHtOfV06ICIpDQogICAgICAgICAgICBpZiB3dyBpbiAoIlkiLCJ5IiwieWEiKToNCiAgICAgICAgICAgICAgICB1YmFoUC5hcHBlbmQoInkiKQ0KICAgICAgICAgICAgICAgIHByaW50KGYiIHtOfVt7SH3igKJ7Tn1dIFBhc3N3b3JkIGV4YW1wbGUgOiB7SH1hZG1pbjEyM3tOfSIpDQogICAgICAgICAgICAgICAgcHdCYXI9aW5wdXQoZiIge059W3tLfT97Tn1dIEVudGVyIG5ldyBwYXNzd29yZCA6IHtIfSIpDQogICAgICAgICAgICAgICAgI3ByaW50KCJcbiIpDQogICAgICAgICAgICAgICAgaWYgbGVuKHB3QmFyKSA8PSA1Og0KICAgICAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBQYXNzd29yZCBtaW5pbXVtIDYgY2hhcmFjdGVycyclKE4sTSxOKSkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBwd0JhcnUuYXBwZW5kKHB3QmFyKQ0KICAgICAgICAgICAgZm9yIG1lbWVrIGluIGNwOg0KICAgICAgICAgICAgICAgIGtvbnRvbCA9IG1lbWVrLnJlcGxhY2UoJ1xuJywgJycpDQogICAgICAgICAgICAgICAgdGl0aWQgID0ga29udG9sLnNwbGl0KCcg4oCiICcpDQogICAgICAgICAgICAgICAgcHJpbnQoZid7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiB7SH1MT0dJTiBQUk9DRVNTJykNCiAgICAgICAgICAgICAgICBqYWxhbihmJyB7Tn1be019P3tOfV0gQWNjb3VudCA6IHtLfXtrb250b2wucmVwbGFjZSgiW01S4oSiU0FKSkFELUNQXSAiLCAiIil9e059JykNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGxvZ19oYXNpbCh0aXRpZFswXS5yZXBsYWNlKCJbTVLihKJTQUpKQUQtQ1BdICIsICIiKSwgdGl0aWRbMV0pDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgICAgICBwcmludCgiIikNCiAgICAgICAgICAgIHByaW50KCIiKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSAlc0NoZWNraW5nIHByb2Nlc3MgaXMgY29tcGxldGUlcyclKE4sSCxOLEgsTikpDQogICAgICAgICAgICBqYWxhbignICVzWyVz4pyTJXNdIFJldHJ1biBTQyB0eXBlICIlc3B5dGhvbiBydW4ucHklcyInJShOLEgsTixILE4pKTtleGl0KCkNCiAgICAgICAgZWxpZiBjZWtfY3AgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIHtOfU9rLCB0aGFuayB5b3UuIFJldHJ1biBTQyB0eXBlICd7SH1weXRob24gcnVuLnB5e059JyIpO2V4aXQoKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gQ2hvb3NlIFkvdCIpO2hhc2lsKG9rLGNwKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKCdcblxuICVzWyVzISVzXSBTb3JyeSB5b3UgZGlkbnQgZ2V0IHJlc3VsdHMnJShOLE0sTikpO2V4aXQoKQ0KI0xPR0lOIFNDDQp1c2VyID0gIlNIQUhaQURBIg0KcHdhcyA9Ik1S4oSic2FqamFkIg0KZGVmIGNla19wdygpOg0KICAgIHRyeToNCiAgICAgICAgb3BlbigiLmluaV9wdy50eHQiLCAiciIpLnJlYWQoKQ0KICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgIGxvZ28oKQ0KICAgICAgICBwcmludCgnIFslcyElc10gUGlsaWggbm9tZXIgMiBqaWthIGFkYSB5YW5nIG1lbXBlcmp1YWxcbiBiZWxpa2FuIFNDIE1S4oSiU0FKSkFELiBTQyBpbmkgJXNHUkFUSVMlcyclKE0sTixILE4pKQ0KICAgICAgICBwcmludCgnXG4gJXMlc09QVElPTiBNRU5VJXMnJShCTSxQLE4pKQ0KICAgICAgICBwcmludCgnIFslczElc10gQWxyZWFkeSBoYXZlIFNDIExvZ2luIEluZm8nJShILE4pKQ0KICAgICAgICBwcmludCgnIFslczIlc10gU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIEF1dGhvciclKEgsTikpDQogICAgICAgIHBpbCA9IGlucHV0KCdcbiAlc1slcz8lc10gQ2hvaWNlIDogJyUoTixLLE4pKQ0KICAgICAgICBpZiBwaWwgPT0iIjoNCiAgICAgICAgICAgIGphbGFuKGYiIHtOfVt7TX3Dl3tOfV0gU29ycnksIGl0IGlzIHdyb25nLi4uISIpO3RpbWUuc2xlZXAoMSk7Y2VrX3B3KCkNCiAgICAgICAgZWxpZiBwaWwgaW5bIjIiLCIwMiJdOg0KICAgICAgICAgICAgamFsYW4oIlxuICVzWyVz4oCiJXNdICVzWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgQXV0aG9yIFdoYXRzYXBwLi4uIiUoTixILE4sSCkpO3RpbWUuc2xlZXAoMC4wMikNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS82MDExNjA2MTA4MTI/dGV4dD1IYWxsbytpemluK21lbmdndW5ha2FuK1NDK2luaScpO3RpbWUuc2xlZXAoMik7Y2VrX3B3KCkNCiAgICAgICAgZWxpZiBwaWwgaW5bIjEiLCIwMSJdOg0KICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyUoTikpDQogICAgICAgICAgICBwcmludCgnICVzWyVzISVzXSBZb3UgbXVzdCBoYXZlIGEgJXN1c2VybmFtZSAmIHBhc3N3b3JkJXMgdG9cbiBjb250aW51ZSB3aXRoIHRoaXMgdG9vbCEnJShOLE0sTixILE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgZXhpdChmIntOfVt7TX3Dl3tOfV0gU29ycnksIGl0IGlzIHdyb25nLi4uISIpDQogICAgICAgICNwcmludCgiICVzWyVzISVzXSBZb3UgbXVzdCBoYXZlIGEgJXN1c2VybmFtZSAmIHBhc3N3b3JkJXMgdG8gY29udGludWUgd2l0aCB0aGlzIHRvb2whIiUoTixNLE4sSyxOKSkNCiAgICAgICAgcHcgPSBpbnB1dCgiXG4gJXNbJXM/JXNdIEVudGVyIFVzZXJuYW1lIDogJXMiJShOLEssTixIKSkNCiAgICAgICAgbG9hZGluZygpDQogICAgICAgIGlmIHB3IGluIFsiIl06DQogICAgICAgICAgICBqYWxhbigiICVzWyVzISVzXSBTb3JyeSBkb24ndCBiZSBibGFuayEiJShOLE0sTikpO3RpbWUuc2xlZXAoMSk7Y2VrX3B3KCkNCiAgICAgICAgZWxpZiBwdyBpbiB1c2VyOg0KICAgICAgICAgICAgamFsYW4oIiAlc1slc+KckyVzXSBPSyBVc2VybmFtZSBpcyBjb3JyZWN0IiUoTixILE4pKTt0aW1lLnNsZWVwKDEpO2tza2EoKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgamFsYW4oIiAlc1slcyElc10gU29ycnksIHdyb25nIHVzZXJuYW1lIiUoTixNLE4pKTt0aW1lLnNsZWVwKDEpO2Nla19wdygpDQogICAgbW9jaF95YXlhbigpDQpkZWYga3NrYSgpOg0KICAgIHh4ID0gaW5wdXQoIlxuICVzWyVzPyVzXSBFbnRlciBQYXNzd29yZCA6ICVzIiUoTixLLE4sSCkpDQogICAgbG9hZGluZygpDQogICAgaWYgeHggaW5bIiJdOg0KICAgICAgICBqYWxhbigiICVzWyVzISVzXSBTb3JyeSBkb24ndCBiZSBibGFuayEiJShOLE0sTikpO3RpbWUuc2xlZXAoMSk7Y2VrX3B3KCkNCiAgICBlbGlmIHh4IGluIHB3YXM6DQogICAgICAgIGphbGFuKCIgJXNbJXPinJMlc10gT0sgUGFzc3dvcmQgaXMgY29ycmVjdCIlKE4sSCxOKSk7dGltZS5zbGVlcCgyKTtvcGVuKCIuaW5pX3B3LnR4dCIsICJhIikud3JpdGUoeHgpO21vY2hfeWF5YW4oKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKCIgJXNbJXMhJXNdIFNvcnJ5LCB3cm9uZyBQYXNzd29yZCIlKE4sTSxOKSk7dGltZS5zbGVlcCgxKTtjZWtfcHcoKQ0KIA0KI01FVE9ERSBMT0dJTg0KZGVmIHlheWFueGQoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBsb2dvKCkNCiAgICByPXJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIHByaW50KCcgJXMlc0Nob29zZSB5b3VyIGxvZ2luIG1ldGhvZCVzJyUoQk0sUCxOKSkNCiAgICBwcmludCgnIFslczElc10gTG9naW4gd2l0aCBFQUFCIFRva2VuICglc09OJXMpJyUoSCxOLEgsTikpDQogICAgcHJpbnQoJyBbJXMyJXNdIExvZ2luIHdpdGggQ29va2llcyAoJXNPTiVzKSclKEgsTixILE4pKQ0KICAgIHByaW50KCcgWyVzMyVzXSBMb2dpbiB3aXRoIElEICYgUGFzc3dvcmQgKCVzT04lcyknJShILE4sSCxOKSkNCiAgICBwcmludCgnIFslczQlc10gQ29udmVydCBDb29raWVzIHRvIEVBQUIgVG9rZW4gKCVzT04lcyknJShILE4sSCxOKSkNCiAgICBwcmludCgnIFslczUlc10gU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIEF1dGhvciAoJXNDaGF0JXMpJyUoSCxOLEgsTikpDQogICAgcCA9IGlucHV0KGYiXG4gW3tLfT97Tn1dIENob29zZSBMb2dpbiBNZXRob2QgOiAiKQ0KICAgIGlmIHAgPT0iIjoNCiAgICAgICAgcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gRG9udCBiZSBlbXB0eSIpO3RpbWUuc2xlZXAoMyk7eWF5YW54ZCgpDQogICAgZWxpZiBwIGluWyIxIiwiMDEiXToNCiAgICAgICAgbG9naW5fdG9rZW4oKQ0KICAgIGVsaWYgcCBpblsiMiIsIjAyIl06DQogICAgICAgIGxvZ2luX2Nvb2tpZSgpDQogICAgZWxpZiBwIGluWyIzIiwiMDMiXToNCiAgICAgICAgbG9naW5fcGFzc3dvZCgpDQogICAgZWxpZiBwIGluWyI0IiwiMDQiXToNCiAgICAgICAgY29udmVydF9jb29raWV0b3Rva2VuKCkNCiAgICBlbGlmIHAgaW5bIjUiLCIwNSJdOg0KICAgICAgICBpbmZvYXV0aG9yKCkNCiAgICBlbHNlOg0KICAgICAgICBqYWxhbihmIlxuIHtOfVt7TX0he059XSBTb3JyeSwgaXQgaXMgd3JvbmciKTt0aW1lLnNsZWVwKDIpO3lheWFueGQoKQ0KIyMjIyMjIElORk8gVVBEQVRFICYgVVBHUkFERSBTQyAjIyMjIw0KZGVmIGluZm9hdXRob3IoKToNCiAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIiUoTikpDQogICAgICAgIGphbGFuKGYiIHtCTX17UH1TQyBJTkZPe059XG4gW3tIfeKAontOfV0gQXV0aG9yIFNDIDoge0t9TVLihKJTQUpKQURcbiB7Tn1be0h94oCie059XSBXaGF0c2FwcCA6IHtLfSs4ODAxODQwLTIxNTEwNlxuIHtOfVt7SH3igKJ7Tn1dIEdpdGh1YiA6IHtLfWh0dHBzOi8vZ2l0aHViLmNvbS9NUuKEolNBSkpBRC1JRFxuIHtOfVt7SH3igKJ7Tn1dIFN0YXR1cyBTQyA6IEdyYXRpcyByYXNhIHtIfVByZW1pdW17Tn1cbiB7Tn1be0h94oCie059XSBXQVJOSU5HIDogRElMQVJBTkcgTUVNUEVSSlVBTCBCRUxJS0FOIFVTRVJOQU1FICYgUEFTU1dPUkQgU0MgTVLihKJTQUpKQUQue059XG5cbiB7Qk19RklYIEJVR3tOfVxuIFt7SH3inJN7Tn1dIFRlcmphZGlueWEgRXJyb3Igc2FhdCBtZW1haW5rYW4gbW9kZSBwZXNhd2F0IHNhYXQgcHJvc2VzIGNyYWNrIHNlZGFuZyBiZXJqYWxhbiwga2luaSBzdWRhaCBkaXBlcmJhaWtpIGRhbiBzdWRhaCBiaXNhIGRpbWFpbmthbiBtb2RlIHBlc2F3YXQgc2FhdCBwcm9zZXMgY3JhY2sgc2VkYW5nIGJlcmphbGFuXG4gW3tIfeKck3tOfV0gU2VkaWtpdCBwZXJ1YmFoYW4gd2FybmEgdGV4dCBkYW4gdGFtcGlsYW4gU0NcbiBbe0h94pyTe059XSBQZXJ1YmFoYW4gdXNlciBhZ2VudCBiYXdhYW4gU0NcbiBbe0h94pyTe059XSBQZW5hbWJhaGFuIG1lbmFtcGlsa2FuIHtIfVdlYiAmIEFwbGlrYXNpIEFLVElGe059IikNCiAgICAgICAgdXBkID0gaW5wdXQoJ1xuICVzWyVzPyVzXSBTZW5kIGRpcmVjdCBtZXNzYWdlIHRvIEF1dGhvciBbJXNZJXMvJXN0JXNdIDogJyUoTixLLE4sSCxOLE0sTikpDQogICAgICAgIGlmIHVwZCA9PSIiOg0KICAgICAgICAgICAgZXhpdChmIntOfVt7TX3Dl3tOfV0gU29ycnksIGl0IGlzIHdyb25nIikNCiAgICAgICAgZWxpZiB1cGQgaW5bIlkiLCJ5Il06DQogICAgICAgICAgICBqYWxhbigiXG4gJXNbJXPigKIlc10gJXNZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIHRoZSBBdXRob3IgV2hhdHNhcHAuLi4iJShOLEgsTixIKSk7dGltZS5zbGVlcCgwLjAyKQ0KICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLzYwMTE2MDYxMDgxMj90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJyk7dGltZS5zbGVlcCgyKTtleGl0KCkNCiAgICAgICAgZWxpZiB1cGQgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIE9rLCB0aGFuayB5b3UuLi4iKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSBSZXRydW4gU0MgdHlwZSAiJXNweXRob24gcnVuLnB5JXMiJyUoTixILE4sSCxOKSk7ZXhpdCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmciKQ0KI0xPR0lOIFRPS0VODQpkZWYgbG9naW5fdG9rZW4oKToNCiAgICAjcHJpbnQoJ1xuICVzWyVzISVzXSBHdW5ha2FuIFRva2VuIEVBQUIgeWFuZyBWYWxpZCwgamlrYSBtZW5nZ3VuYWthbiBUb2tlbiBFQUFCIHlhbmcgdGlkYWsgdmFsaWQgbWVuZ2FraWJhdGthbiAlc0dBR0FMIERVTVBJRCVzJyUoTixNLE4sTSxOKSkNCiAgICB0b2tlbiA9IGlucHV0KGYiXG4ge059W3tLfT97Tn1dIEVudGVyIEVBQUIgVG9rZW4gOiB7QX0iKQ0KICAgIGxvYWRpbmcoKQ0KICAgIHRyeToNCiAgICAgICAgbmFtYSA9IHJlcXVlc3RzLmdldCh1cmxfZ3JhcGguZm9ybWF0KGYiL21lP2FjY2Vzc190b2tlbj17dG9rZW59IikpLmpzb24oKVsibmFtZSJdDQogICAgICAgIG9wZW4oJy50b2tlbi50eHQnLCAnYScpLndyaXRlKHRva2VuKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gU2lnbiBpbiB0b2tlbiAlc1N1Y2Nlc3NmdWwlcyclKE4sSCxOLEgsTikpO3RpbWUuc2xlZXAoMSkNCiAgICAgICAgamFsYW4oJyAlc1slc+KAoiVzXSBXZWxjb21lICVzJXMlcyclKE4sSCxOLEssbmFtYSxOKSk7dGltZS5zbGVlcCgxKQ0KICAgICAgICBqYWxhbignIFslcyElc10gUGxlYXNlIHVzZSB0aGlzIHNjIHByb3Blcmx5LCB3ZSBhcmUgbm90IHJlc3BvbnNpYmxlIGlmIHRoaXMgc2MgaXMgbWlzdXNlZC4uLlxuIFslc+KAoiVzXSBXQVJOSU5HIDogRElMQVJBTkcgTUVNUEVSSlVBTCBCRUxJS0FOIFVTRVJOQU1FICYgUEFTU1dPUkQgU0MgTVLihKJTQUpKQUQuJyUoTSxOLEgsTikpO3RpbWUuc2xlZXAoMykNCiAgICAgICAgaW5wdXQoJ1xuIFslc1BSRVNTIEVOVEVSJXNdIHRvIGNvbnRpbnVlJyUoSCxOKSkNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLzYwMTE2MDYxMDgxMj90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJykNCiAgICAgICAgbW9jaF95YXlhbigpDQogICAgZXhjZXB0IChBdHRyaWJ1dGVFcnJvcixLZXlFcnJvcik6DQogICAgICAgIGphbGFuKGYiXG4ge059W3tNfSF7Tn1dIFNpZ24gaW4gdG9rZW4ge019VmFpbGVke059Iik7eWF5YW54ZCgpDQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOg0KICAgICAgICBqYWxhbihmIlxuIHtOfVt7TX0he059XSBTaWduIGluIHRva2VuIHtNfVZhaWxlZHtOfSIpO3lheWFueGQoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgamFsYW4oZiJcbiB7Tn1be019IXtOfV0gU29ycnkgTm8gY29ubmVjdGlvbiIpO3lheWFueGQoKQ0KIyAtLS0tLS0tIExPR0lOIENPT0tJRSAtLS0tLS0tLQ0KZGVmIGxvZ2luX2Nvb2tpZSgpOg0KICAgIGNvb2tpZSA9IGlucHV0KCJcbiAlc1slcz8lc10gRW50ZXIgQ29va2llcyA6ICVzIiUgKE4sSyxOLEEpKQ0KICAgIGxvYWRpbmcoKQ0KICAgIHRyeToNCiAgICAgICAgZXdlZSA9IHViYWhfY29rKGNvb2tpZSkNCiAgICAgICAgdG9rZW4gPSBld2VlLmdldCgndG9rZW4nKQ0KICAgICAgICBuYW1hID0gcmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPXt0b2tlbn0iKS5qc29uKClbIm5hbWUiXQ0KICAgICAgICBvcGVuKCcuY29raWUudHh0JywgJ2EnKS53cml0ZShjb29raWUpDQogICAgICAgIG9wZW4oJy50b2tlbi50eHQnLCAnYScpLndyaXRlKHRva2VuKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gU2lnbiBpbiBDb29raWUgJXNTdWNjZXNzZnVsJXMnJShOLEgsTixILE4pKTt0aW1lLnNsZWVwKDMpDQogICAgICAgIGphbGFuKCcgJXNbJXPigKIlc10gV2VsY29tZSAlcyVzJXMnJShOLEgsTixLLG5hbWEsTikpO3RpbWUuc2xlZXAoMykNCiAgICAgICAgamFsYW4oJyBbJXMhJXNdIFBsZWFzZSB1c2UgdGhpcyBzYyBwcm9wZXJseSwgd2UgYXJlIG5vdCByZXNwb25zaWJsZSBpZiB0aGlzIHNjIGlzIG1pc3VzZWQuLi5cbiBbJXPigKIlc10gV0FSTklORyA6IERJTEFSQU5HIE1FTVBFUkpVQUwgQkVMSUtBTiBVU0VSTkFNRSAmIFBBU1NXT1JEIFNDIE1S4oSiU0FKSkFELiclKE0sTixILE4pKTt0aW1lLnNsZWVwKDMpDQogICAgICAgIGlucHV0KCdcbiBbJXNQUkVTUyBFTlRFUiVzXSB0byBjb250aW51ZSclKEgsTikpDQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS82MDExNjA2MTA4MTI/dGV4dD1IYWxsbytpemluK21lbmdndW5ha2FuK1NDK2luaScpDQogICAgICAgIG1vY2hfeWF5YW4oKQ0KICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoNCiAgICAgICAgamFsYW4oJ1xuICVzWyVzw5clc10gU2lnbiBpbiBDb29raWUgJXNWYWlsZWQlcyclKE4sTSxOLE0sTikpO3RpbWUuc2xlZXAoMSk7eWF5YW54ZCgpDQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOg0KICAgICAgICBqYWxhbignXG4gJXNbJXPDlyVzXSBTaWduIGluIENvb2tpZSAlc1ZhaWxlZCVzJyUoTixNLE4sTSxOKSk7dGltZS5zbGVlcCgxKTt5YXlhbnhkKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIGphbGFuKCdcbiAlc1slcyElc10gU29ycnkgTm8gY29ubmVjdGlvbiclKE4sTSxOKSk7dGltZS5zbGVlcCgxKTt5YXlhbnhkKCkNCiNMT0dJTiBQQVNTV09SRA0KZGVmIGxvZ2luX3Bhc3N3b2QoKToNCiAgICBzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIHVzZXIgPSBpbnB1dChmIlxuIHtOfVt7SH3igKJ7Tn1dIEVudGVyIElEL1VzZXJuYW1lIDoge0h9IikNCiAgICBwYXN3ID0gaW5wdXQoZiIge059W3tIfeKAontOfV0gRW50ZXIgUGFzc3dvcmQgOiB7SH0iKQ0KICAgIGxvYWRpbmcoKQ0KICAgIHRyeToNCiAgICAgICAgc2Vzc2lvbj1yZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgaGVhZGVyID0geyJIb3N0IjoibWJhc2ljLmZhY2Vib29rLmNvbSIsICJvcmlnaW4iOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyIgOiAiMSIsDQogICAgICAgICJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBOb2tpYSAzLjIpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIHNlcGVydGkgR2Vja28pIENocm9tZS85OC4wLjQ3NTguODcgTW9iaWxlIFNhZmFyaS81MzcuMzYiLA0KICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjogIm1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ICJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiAiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiB1cmxfbWIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjpiYWhhc2F9DQogICAgICAgIGNpbiA9IHNlc3Npb24uZ2V0KCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsIGhlYWRlcnM9aGVhZGVyKQ0KICAgICAgICBkYXMgPSB7ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoY2luLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGNpbi50ZXh0KSkuZ3JvdXAoMSksInVpZCI6dXNlciwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnBhc3csIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyJ9DQogICAgICAgIHlhbiA9IHNlc3Npb24ucG9zdCgiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wIiwgZGF0YSA9IGRhcywgaGVhZGVycyA9IGhlYWRlciwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UpDQogICAgICAgIGlmICdjX3VzZXInIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICAgICAgY29veiA9IHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpDQogICAgICAgICAgICBjb2tpID0gJ2RhdHI9JyArIGNvb3pbJ2RhdHInXSArICc7JyArICgnY191c2VyPScgKyBjb296WydjX3VzZXInXSkgKyAnOycgKyAoJ2ZyPScgKyBjb296WydmciddKSArICc7JyArICgneHM9JyArIGNvb3pbJ3hzJ10pDQogICAgICAgICAgICB0cnk6ZXdlZSA9IHViYWhfY29rKGNva2kpDQogICAgICAgICAgICBleGNlcHQgVW5ib3VuZExvY2FsRXJyb3I6amFsYW4oIiBbJXPDlyVzXSBJRC9Vc2VybmFtZSAmIFBhc3N3b3JkIG5vdCBjb3JyZWN0IiUoTSxOKSk7bG9naW5fcGFzc3dvZCgpDQogICAgICAgICAgICAjaWtlaCA9IGV3ZWUuZ2V0KCdpa2VoJykNCiAgICAgICAgICAgIHRva2VuID0gZXdlZS5nZXQoJ3Rva2VuJykNCiAgICAgICAgICAgIG5hbWEgPSBzZXNzaW9uLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj17dG9rZW59IikuanNvbigpWyJuYW1lIl0NCiAgICAgICAgICAgICNvcGVuKCcudG9rZW4udHh0JywgJ2EnKS53cml0ZShpa2VoKQ0KICAgICAgICAgICAgb3BlbignLnRva2VuLnR4dCcsICdhJykud3JpdGUodG9rZW4pDQogICAgICAgICAgICBvcGVuKCcuY29raWUudHh0JywgJ2EnKS53cml0ZShjb2tpKQ0KICAgICAgICAgICAgamFsYW4oJ1xuICVzWyVz4pyTJXNdIFNpZ24gaW4gSUQvVXNlcm5hbWUgJiBQYXNzd29yZCAlc1N1Y2Nlc3NmdWwlcyclKE4sSCxOLEgsTikpO3RpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIGphbGFuKCcgJXNbJXPigKIlc10gV2VsY29tZSAlcyVzJXMnJShOLEgsTixLLG5hbWEsTikpO3RpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIGphbGFuKCcgWyVzISVzXSBQbGVhc2UgdXNlIHRoaXMgc2MgcHJvcGVybHksIHdlIGFyZSBub3QgcmVzcG9uc2libGUgaWYgdGhpcyBzYyBpcyBtaXN1c2VkLi4uXG4gWyVz4oCiJXNdIFdBUk5JTkcgOiBESUxBUkFORyBNRU1QRVJKVUFMIEJFTElLQU4gVVNFUk5BTUUgJiBQQVNTV09SRCBTQyBNUuKEolNBSkpBRC4nJShNLE4sSCxOKSk7dGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgamFsYW4oZiJcbiBbe019IXtOfV0gRGlzcGxheWluZyBjb29raWVzIGFuZCB0b2tlbnMiKTt0aW1lLnNsZWVwKDQpDQogICAgICAgICAgICBwcmludChmIiBbe0h94pyTe059XSBDb29raWUgOiB7SH17Y29raX17Tn0iKTt0aW1lLnNsZWVwKDIpDQogICAgICAgICAgICBwcmludChmIiBbe0h94pyTe059XSBUb2tlbiAgOiB7SH17ZXdlZS5nZXQoJ3Rva2VuJyl9e059Iik7dGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgaW5wdXQoJ1xuIFslc1BSRVNTIEVOVEVSJXNdIHRvIGNvbnRpbnVlJyUoSCxOKSkNCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93YS5tZS82MDExNjA2MTA4MTI/dGV4dD1IYWxsbytpemluK21lbmdndW5ha2FuK1NDK2luaScpDQogICAgICAgICAgICBtb2NoX3lheWFuKCkNCiAgICAgICAgZWxpZiAnY2hlY2twb2ludCcgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICBqYWxhbihmIlxuIFt7TX0he059XSBTb3JyeSBhY2NvdW50IHtLfUNoZWNrcG9pbnR7Tn0iKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgamFsYW4oZiJcbiBbe019w5d7Tn1dIFNpZ24gaW4gQ29va2llIHtNfVZhaWxlZHtOfSIpO3lheWFueGQoKQ0KICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsS2V5RXJyb3IpOg0KICAgICAgICBqYWxhbihmIlxuIFt7TX3Dl3tOfV0gU2lnbiBpbiBDb29raWUge019VmFpbGVke059Iik7eWF5YW54ZCgpDQogICAgZXhjZXB0IFVuYm91bmRMb2NhbEVycm9yOg0KICAgICAgICBqYWxhbihmIlxuIFt7TX3Dl3tOfV0gU2lnbiBpbiBDb29raWUge019VmFpbGVke059Iik7eWF5YW54ZCgpDQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICBqYWxhbihmIlxuIHtOfVt7TX0he059XSBTb3JyeSBubyBjb25uZWN0aW9uIikNCiMgLS0tLS0gVUJBSCBDT09LSUUgLS0tLS0tLQ0KZGVmIHViYWhfY29rKGNvb2tpZSk6DQogICAgaGVhZGVycyA9IHsNCiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzY0LjAuMzI4Mi4xNjcgU2FmYXJpLzUzNy4zNicsDQogICAgICAgICdDb29raWUnOiBjb29raWUNCiAgICB9DQogICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgcjoNCiAgICAgIHJlcSA9IHIuZ2V0KCdodHRwczovL3dlYi5mYWNlYm9vay5jb20vYWRzbWFuYWdlcj9fcmRjPTEmX3JkcicsIGhlYWRlcnMgPSBoZWFkZXJzKQ0KICAgICAgY2FyaV9pZCA9IHJlLmZpbmRhbGwoJ2FjdD0oLio/KSZuYXZfc291cmNlJywgcmVxLnRleHQpDQogICAgICBmb3IgeiBpbiBjYXJpX2lkOg0KICAgICAgICAgIHJleCA9IHIuZ2V0KGYnaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvbWFuYWdlL2NhbXBhaWducz9hY3Q9e3p9Jm5hdl9zb3VyY2U9bm9fcmVmZXJyZXInLCBoZWFkZXJzID0gaGVhZGVycykNCiAgICAgICAgICAjbW1rID0gcmUuc2VhcmNoKCcoRUFBQlx3KyknLCByZXgudGV4dCkuZ3JvdXAoMSkNCiAgICAgICNyZXR1cm4geyJpa2VoIjptbWt9DQogICAgICAgICAgdG9rZW4gPSByZS5zZWFyY2goJyhFQUFCXHcrKScsIHJleC50ZXh0KS5ncm91cCgxKQ0KICAgICAgcmV0dXJuIHsidG9rZW4iOnRva2VufQ0KIyBNZW51IENvbnZlcnQgVG9rZW4NCmRlZiBjb252ZXJ0X2Nvb2tpZXRvdG9rZW4oKToNCiAgdHJ5Og0KICAgICAgY29va2llID0gaW5wdXQoZiJ7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiB7Qk19REVUQUlMIENPTlZFUlR7Tn1cbiBbe0t9P3tOfV0gTWFzdWthbiBDb29raWUgRkIgOiB7QX0iKQ0KICAgICAgbG9hZGluZygpDQogICAgICBpZiBsZW4oY29va2llKSA9PSAwOg0KICAgICAgICBqYWxhbihmIiB7Tn1be019IXtOfV0gRG9uJ3QgYmUgZW1wdHkiKTt5YXlhbnhkKCkNCiAgICAgIGVsc2U6DQogICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFgxMTsgVWJ1bnR1OyBMaW51eCB4ODZfNjQ7IHJ2OjU5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTkuMCcsJ0Nvb2tpZSc6IGNvb2tpZX0NCiAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgcjoNCiAgICAgICAgICByZXEgPSByLmdldCgnaHR0cHM6Ly93ZWIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXI/X3JkYz0xJl9yZHInLCBoZWFkZXJzID0gaGVhZGVycykNCiAgICAgICAgICBjYXJpX2lkID0gcmUuZmluZGFsbCgnYWN0PSguKj8pJm5hdl9zb3VyY2UnLCByZXEudGV4dCkNCiAgICAgICAgICBmb3IgeiBpbiBjYXJpX2lkOg0KICAgICAgICAgICAgcmV4ID0gci5nZXQoZidodHRwczovL3dlYi5mYWNlYm9vay5jb20vYWRzbWFuYWdlci9tYW5hZ2UvY2FtcGFpZ25zP2FjdD17en0mbmF2X3NvdXJjZT1ub19yZWZlcnJlcicsIGhlYWRlcnMgPSBoZWFkZXJzKQ0KICAgICAgICAgICAgdG9rZW4gPSByZS5zZWFyY2goJyhFQUFCXHcrKScsIHJleC50ZXh0KS5ncm91cCgxKQ0KICAgICAgI3JldHVybiB7InRva2VuIjp0b2tlbn0NCiAgICAgICAgICAgIHByaW50KGYiXG4ge059W3tIfeKAontOfV0gWW91ciBFQUFCIFRva2VuIDoge0h9e3Rva2VufSIpDQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH0he059XSBQbGVhc2UgY29weSB0aGUgRUFBQiBUb2tlbiBhYm92ZSIpO2xvZ2luX3Rva2VuKCkNCiAgZXhjZXB0IChBdHRyaWJ1dGVFcnJvcixLZXlFcnJvcik6DQogICAgICAgIGphbGFuKGYiXG4ge059W3tNfSF7Tn1dIFNpZ24gaW4ge019VmFpbGVke059IikNCiAgICAgDQojIyMgTUVOVSBVVEFNQSAjIyMNCmRlZiBtb2NoX3lheWFuKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgbG9nbygpDQogICAgdHJ5Og0KICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gQ29va2llL1Rva2VuIGV4cGlyZWQnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKTt5YXlhbnhkKCkNCiAgICB0cnk6DQogICAgICAgIHh4ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JXMnJSh0b2tlbnopKS5qc29uKCkNCiAgICAgICAgbmFtYSA9IHh4WyduYW1lJ10NCiAgICAgICAgaWRmYiA9IHh4WydpZCddDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBTb3JyeSwgQ29va2llL1Rva2VuIGludmFsaWQnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKTt5YXlhbnhkKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIGV4aXQoJ1xuXG4gJXNbJXMhJXNdIFNvcnJ5IG5vIGNvbm5lY3Rpb25cbiclKE4sTSxOKSkNCiAgICBpcG0gPSByZXF1ZXN0cy5nZXQodXJsX2lwKS5qc29uKCkNCiAgICBJUCA9IGlwbVsib3JpZ2luIl0NCiAgICBwcmludChmIiB7Qk19TE9HSU4gSU5GT3tOfSIpDQogICAgcHJpbnQoZiJ7UH0gW3tIfeKAontQfV0gRkIgTmFtZSAgIDoge25hbWF9IikNCiAgICBwcmludChmIntQfSBbe0h94oCie1B9XSBGQiBJRCAgICAgOiB7aWRmYn0iKQ0KICAgIHByaW50KGYie1B9IFt7SH3igKJ7UH1dIFlvdXIgSVAgICA6IHtJUH0iKQ0KICAgIHByaW50KGYie1B9IFt7SH3igKJ7UH1dIEpvaW4gICAgICA6IHt3YWt0dX0iKQ0KICAgIHByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIlKE4pKQ0KICAgIHByaW50KGYiIHtCTX1PUFRJT04gTUVOVXtOfSIpDQogICAgcHJpbnQoJyBbJXMwMSVzXSBQdWJsaWMgRnJpZW5kcyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwMiVzXSBSYW5kb20gSUQgTWFzc2FsICglc09OJXMpJyUoSCxOLEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczAzJXNdIFB1YmxpYyBHcm91cCBNZW1iZXIgKCVzT04lcyknJShILE4sSCxOKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCcgWyVzMDQlc10gTGlrZSBQb3N0cyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwNSVzXSBDb21tZW50IFBvc3RzICglc09OJXMpJyUoSCxOLEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczA2JXNdIENoZWNrcG9pbnQgRGV0ZWR0b3IgKCVzT04lcyknJShILE4sSCxOKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCcgWyVzMDclc10gQ2hlY2sgQ3JhY2sgUmVzdWx0cyAoJXNPTiVzKSclKEgsTixILE4pKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoJyBbJXMwOCVzXSBTQyB1cGRhdGUgaW5mbyclKEgsTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgnIFslczAwJXNdIExvZ291dCAoJXNSZW1vdmUgVG9rZW4vQ29va2llJXMpJyUoTSxOLE0sTikpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwZXBlayA9IGlucHV0KCdcbiAlc1slcz8lc10gU2VsZWN0IG1lbnUgOiAnJShOLEssTikpDQogICAgaWYgcGVwZWsgPT0gJyc6DQogICAgICAgIGphbGFuKCdcbiAlc1slc8OXJXNdIFNvcnJ5IHRoZSBtZW51IHNlbGVjdGlvbiBpcyB3cm9uZy4uLiEnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQojIyMjIyMgQ1JBQ0sgSUQgUFVCTElLIFNJTkdFTCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzEnLCcwMSddOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiAlc1RBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAgcHJpbnQoIiAlc1slc+KAoiVzXSBUeXBlICVzTUUlcyBjcmFjayBmcm9tIGZyaWVuZHMgbGlzdCIlKE4sSCxOLEgsTikpDQogICAgICAgICAgICB0cnk6dXNlciA9IGlucHV0KCcgJXNbJXM/JXNdIEVudGVyIElEL1VuYW1lIDogJXMnJShOLEssTixIKSk7X21lbWVrXyA9IF9fY29udmVydF9fKHVzZXIpDQogICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6ZXhpdChmIiB7Tn1be019w5d7Tn1dIEluY29ycmVjdCB1c2VybmFtZSBvciBJRCIpDQogICAgICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGYiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20ve19tZW1la18uZ2V0KCdfa29udG9sXycpfT9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0iKS5qc29uKClbImZyaWVuZHMiXQ0KICAgICAgICAgICAgZm9yIHggaW4gclsiZGF0YSJdOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WydpZCddICsgJzw9PicgKyB4WyduYW1lJ10pDQogICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgIGphbGFuKGYnICVzWyVzw5clc10gU29ycnkgJXNJRCBpcyBub3QgcHVibGljL0ludmFsaWQgdG9rZW4lcyclKE4sTSxOLE0sTikpO3RpbWUuc2xlZXAoMSk7bW9jaF95YXlhbigpDQojIyMjIyMgQ1JBQ0sgUkFORE9NIElEIE1BU1NBTCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzInLCcwMiddOg0KICAgICAgICBfbmdvY29rXyh0b2tlbnopDQojIyMjIyMgQ1JBQ0sgR1JVUCAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzMnLCcwMyddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNHUk9VUCBUQVJHRVQgSU5GTyVzIiUoTixCTSxOKSkNCiAgICAgICAgICAgIGtvbnRvbCA9IGlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBHcm91cCBJRCA6IHtIfSIpDQogICAgICAgICAgICBpZiBrb250b2wgaW5bIiIsIiAiXToNCiAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBEb250IGJlIGVtcHR5Li4uISclKE4sTSxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBjb29raXogPSBvcGVuKCcuY29raWUudHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgIGt1ZWggID0geyJjb29raWUiOmNvb2tpen0NCiAgICAgICAgICAgICAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgamFsYW4oZiJcbiBbe019w5d7Tn1dIFlvdSBsb2dpbiB1c2luZyBhIHRva2VuLCBpZiB5b3Ugd2FudCB0byBjcmFjayBmcm9tIGEgZ3JvdXAgbWVtYmVyLCBwbGVhc2UgbG9naW4gY29va2llcyBmaXJzdCIpO3RpbWUuc2xlZXAoNSk7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO3lheWFueGQoKQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgYSA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD17a29udG9sfSZhY2Nlc3NfdG9rZW49e3Rva2Vuen0iKS5qc29uKClbIm5hbWUiXQ0KICAgICAgICAgICAgICAgICAgICBpZiAiSGFsYW1hbiBUaWRhayBEaXRlbXVrYW4iIGluIGE6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxuICVzWyVzw5clc10gR3JvdXAgd2l0aCBJRCB7a29udG9sfSBub3QgZm91bmQiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgIkFuZGEgVGlkYWsgRGFwYXQgTWVuZ2d1bmFrYW4gRml0dXIgSW5pIFNla2FyYW5nIiBpbiBhOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlxuICVzWyVzw5clc10gRmFjZWJvb2sgcmVzdHJpY3RzIGV2ZXJ5IGFjdGl2aXR5LCBhY2NvdW50IGlzIHNwYW1tZWQsIHBsZWFzZSBzd2l0Y2ggYWNjb3VudHMiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsaWYgIktvbnRlbiBUaWRhayBEaXRlbXVrYW4iIGluIGE6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxuICVzWyVzw5clc10gR3JvdXAgd2l0aCBJRCB7a29udG9sfSBub3QgZm91bmQiJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6ICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiIHtOfVt7SH3igKJ7Tn1dIEdyb3VwIE5hbWUgOiB7SH17YX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcbiB7Tn1be019IXtOfV0gVG8gc3RvcCB7SH1DVFJMK2N7Tn0gb24ga2V5Ym9hcmQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3JhY2tfZ3J1cChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9icm93c2UvZ3JvdXAvbWVtYmVycy8/aWQ9e2tvbnRvbH0iLCBrdWVoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdChyZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcixyZXF1ZXN0cy5leGNlcHRpb25zLkNodW5rZWRFbmNvZGluZ0Vycm9yLHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVhZFRpbWVvdXQpOg0KICAgICAgICAgICAgICAgICAgICBleGl0KCJcbiBbIV0gU29ycnkgbm8gY29ubmVjdGlvbiIpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiMjIyMjIyBDUkFDSyBMSUtFIFBPU1RJTkdBTiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzQnLCcwNCddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNMSUtFIFRBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAga29udG9sID0gaW5wdXQoZiIge059W3tLfT97Tn1dIEVudGVyIFBvc3QgSUQgOiB7SH0iKQ0KICAgICAgICAgICAgaWYga29udG9sIGluWyIiLCIgIl06DQogICAgICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gRG9udCBiZSBlbXB0eS4uLiEnJShOLE0sTikpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgY29va2l6ID0gb3BlbignLmNva2llLnR4dCcpLnJlYWQoKQ0KICAgICAgICAgICAgICAgIGt1ZWggID0geyJjb29raWUiOmNvb2tpen0NCiAgICAgICAgICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICAgICAgICAgIGphbGFuKGYiXG4ge059W3tNfcOXe059XSBZb3UgbG9naW4gdXNpbmcgYSB0b2tlbiwgaWYgeW91IHdhbnQgdG8gY3JhY2sgZnJvbSBhIGdyb3VwIG1lbWJlciwgcGxlYXNlIGxvZ2luIGNvb2tpZXMgZmlyc3QiKTt0aW1lLnNsZWVwKDUpO29zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKTt5YXlhbnhkKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBwcmludChmIlxuIHtOfVt7TX0he059XSBUbyBzdG9wIHtIfUNUUkwrY3tOfSBvbiBrZXlib2FyZCIpDQogICAgICAgICAgICAgICAgbGlrZV9wb3N0KGYiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3VmaS9yZWFjdGlvbi9wcm9maWxlL2Jyb3dzZXIvP2Z0X2VudF9pZGVudGlmaWVyPXtrb250b2x9Iiwga3VlaCkNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludChmIlxuIFshXSBQb3N0IHdpdGggSUQge2tvbnRvbH0gbm90IGZvdW5kIik7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiMjIyMjIyBDUkFDSyBLT01FTlRBUiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzUnLCcwNSddOg0KICAgICAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNDT01NRU5UIFRBUkdFVCBJTkZPJXMiJShOLEJNLE4pKQ0KICAgICAgICAgICAga29udG9sID0gaW5wdXQoZiJcbiB7Tn1be0t9P3tOfV0gRW50ZXIgUG9zdCBJRCA6IHtIfSIpDQogICAgICAgICAgICBpZiBrb250b2wgaW5bIiIsIiAiXToNCiAgICAgICAgICAgICAgICBwcmludCgnXG4gJXNbJXPDlyVzXSBEb250IGJlIGVtcHR5Li4uISclKE4sTSxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBjb29raXogPSBvcGVuKCcuY29raWUudHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAga3VlaCAgPSB7ImNvb2tpZSI6Y29va2l6fQ0KICAgICAgICAgICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgICAgICAgICAgamFsYW4oZiJcbiB7Tn1be019w5d7Tn1dIFlvdSBsb2dpbiB1c2luZyBhIHRva2VuLCBpZiB5b3Ugd2FudCB0byBjcmFjayBmcm9tIGEgZ3JvdXAgbWVtYmVyLCBwbGVhc2UgbG9naW4gY29va2llcyBmaXJzdCIpO3RpbWUuc2xlZXAoNSk7b3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO3lheWFueGQoKQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHByaW50KGYiXG4ge059W3tNfSF7Tn1dIFRvIHN0b3Age0h9Q1RSTCtje059IG9uIGtleWJvYXJkIikNCiAgICAgICAgICAgICAgICBuZ29tZW5fcG9zdChmImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS97a29udG9sfSIsIGt1ZWgpDQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQoZiJcbiBbIV0gUG9zdCB3aXRoIElEIHtrb250b2x9IG5vdCBmb3VuZCIpO3RpbWUuc2xlZXAoMik7bW9jaF95YXlhbigpDQojIyMjIyMgQ0hFQ0tQT0lOVCBERVRFRFRPUiAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzYnLCcwNiddOg0KICAgICAgICBnYWJ1dCgpDQojIyMjIyMgQ0VLIEhBU0lMIENSQUNLICMjIyMjDQogICAgZWxpZiBwZXBlayBpblsnNycsJzA3J106DQogICAgICAgIGRpcnMgPSBvcy5saXN0ZGlyKCJyZXN1bHRzIikNCiAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNGSUxFIEhBU0lMIENSQUNLJXMnJShOLEJNLE4pKQ0KICAgICAgICBmb3IgZmlsZSBpbiBkaXJzOg0KICAgICAgICAgICAgcHJpbnQoIiAlc1slcyslc10gJXMiJShOLEgsTixmaWxlKSkNCiAgICAgICAgZmlsZSA9IGlucHV0KCJcbiAlcyVzRklMRSBERVRBSUxTJXNcbiBbJXM/JXNdIEZpbGUgbmFtZSA6ICVzIiUoQk0sUCxOLEssTixIKSkNCiAgICAgICAgaWYgZmlsZSA9PSAiIjoNCiAgICAgICAgICAgIGZpbGUgPSBpbnB1dCgiXG4gJXMlc0ZJTEUgREVUQUlMUyVzXG4gWyVzPyVzXSBGaWxlIG5hbWUgOiVzIiUoQk0sUCxOLEssTixIKSkNCiAgICAgICAgdG90YWwgPSBvcGVuKCJyZXN1bHRzLyVzIiUoZmlsZSkpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICAgICAgI3ByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIlKE4pKTt0aW1lLnNsZWVwKDIpDQogICAgICAgIG5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpDQogICAgICAgIGhwc19ubSAgPSBubV9maWxlLnJlcGxhY2UoIi50eHQiLCAiIikucmVwbGFjZSgiT0siLCAiIikucmVwbGFjZSgiQ1AiLCAiIikucmVwbGFjZSgiY3BfZGV0ZWt0b3IiLCAiIikucmVwbGFjZSgiaW52YWxpZF9vayIsICIiKQ0KICAgICAgICBqYWxhbigiICVzWyVz4oCiJXNdIEZpbGUgZGF0ZSA6JXMlc1xuICVzWyVz4oCiJXNdIFRvdGFsIDogJXMlcyVzIiUoTixILE4sSCxocHNfbm0sTixILE4sSCxsZW4odG90YWwpLE4pKQ0KICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSk7dGltZS5zbGVlcCgyKQ0KICAgICAgICBmb3IgbWVtZWsgaW4gdG90YWw6DQogICAgICAgICAgICBrb250b2wgPSBtZW1lay5yZXBsYWNlKCJcbiIsIiIpDQogICAgICAgICAgICB0aXRpZCAgPSBrb250b2wucmVwbGFjZSgiW01S4oSiU0FKSkFELU9LXSAiLCJceDFiWzE7OTJtW01S4oSiU0FKSkFELU9LXSAiKS5yZXBsYWNlKCJbTVLihKJTQUpKQUQtQ1BdICIsICJceDFiWzE7OTNtW01S4oSiU0FKSkFELUNQXSAiKQ0KICAgICAgICAgICAgcHJpbnQoIiVzJXMiJSh0aXRpZCxOKSk7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICBqYWxhbigiXG4gJXNbJXPinJMlc10gRmlsZSBjaGVjayBjb21wbGV0ZS4uLiIlKE4sSCxOKSkNCiAgICAgICAgaW5wdXQoJyBbJXNQUkVTUyBFTlRFUiVzXSB0byBjb250aW51ZSclKEgsTikpO21vY2hfeWF5YW4oKQ0KIyMjIyMjIElORk8gVVBEQVRFICYgVVBHUkFERSBTQyAjIyMjIw0KICAgIGVsaWYgcGVwZWsgaW5bJzgnLCcwOCddOg0KICAgICAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSkNCiAgICAgICAgamFsYW4oZiIge0JNfXtQfVNDIElORk97Tn1cbiBbe0h94oCie059XSBBdXRob3IgU0MgOiB7S31NUuKEolNBSkpBRFxuIHtOfVt7SH3igKJ7Tn1dIFdoYXRzYXBwIDoge0t9Kzg4MDE4NDAtMjE1MTA2XG4ge059W3tIfeKAontOfV0gR2l0aHViIDoge0t9aHR0cHM6Ly9naXRodWIuY29tL01S4oSiU0FKSkFELUlEXG4ge059W3tIfeKAontOfV0gU3RhdHVzIFNDIDogR3JhdGlzIHJhc2Ege0h9UHJlbWl1bXtOfVxuXG4ge0JNfXtQfVNPVVJDIENPREV7Tn1cbiBbe0h9MXtOfV0gWWF5YW5YRCAgICAgIFt7SH0ye059XSBSb21pXG4gW3tIfTN7Tn1dIFJvemhha1hEICAgICBbe0h9NHtOfV0gU2lhcGEgbGFnaT9cblxuIHtCTX1GSVggQlVHe059XG4gW3tIfeKck3tOfV0gVGVyamFkaW55YSBFcnJvciBzYWF0IG1lbWFpbmthbiBtb2RlIHBlc2F3YXQgc2FhdCBwcm9zZXMgY3JhY2sgc2VkYW5nIGJlcmphbGFuLCBraW5pIHN1ZGFoIGRpcGVyYmFpa2kgZGFuIHN1ZGFoIGJpc2EgZGltYWlua2FuIG1vZGUgcGVzYXdhdCBzYWF0IHByb3NlcyBjcmFjayBzZWRhbmcgYmVyamFsYW5cbiBbe0h94pyTe059XSBTZWRpa2l0IHBlcnViYWhhbiB3YXJuYSB0ZXh0IGRhbiB0YW1waWxhbiBTQ1xuIFt7SH3inJN7Tn1dIFBlcnViYWhhbiB1c2VyIGFnZW50IGJhd2FhbiBTQ1xuIFt7SH3inJN7Tn1dIFBlbmFtYmFoYW4gbWVuYW1waWxrYW4ge0h9V2ViICYgQXBsaWthc2kgQUtUSUZ7Tn0iKQ0KICAgICAgICB1cGQgPSBpbnB1dCgnXG4gJXNbJXM/JXNdIFNlbmQgZGlyZWN0IG1lc3NhZ2UgdG8gQXV0aG9yIFslc1klcy8lc3Qlc10gOiAnJShOLEssTixILE4sTSxOKSkNCiAgICAgICAgaWYgdXBkID09IiI6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hIikNCiAgICAgICAgZWxpZiB1cGQgaW5bIlkiLCJ5Il06DQogICAgICAgICAgICBqYWxhbigiXG4gJXNbJXPigKIlc10gJXNZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIHRoZSBBdXRob3IgV2hhdHNhcHAuLi4iJShOLEgsTixIKSk7dGltZS5zbGVlcCgwLjAyKQ0KICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLys4ODAxODQwLTIxNTEwNj90ZXh0PUhhbGxvK2l6aW4rbWVuZ2d1bmFrYW4rU0MraW5pJyk7dGltZS5zbGVlcCgyKTtleGl0KCkNCiAgICAgICAgZWxpZiB1cGQgaW5bIlQiLCJ0Il06DQogICAgICAgICAgICBqYWxhbihmIlxuIHtOfVt7SH3igKJ7Tn1dIE9rLCB0aGFuayB5b3UuLi4iKQ0KICAgICAgICAgICAgamFsYW4oJyAlc1slc+KckyVzXSBSZXRydW4gU0MgdHlwZSAiJXNweXRob24gcnVuLnB5JXMiJyUoTixILE4sSCxOKSk7ZXhpdCgpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBleGl0KGYie059W3tNfcOXe059XSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hIikNCiMjIyMjIyBIQVBVUyBDT09LSUUgIyMjIyMNCiAgICBlbGlmIHBlcGVrIGluWycwJywnMDAnXToNCiAgICAgICAgcHJpbnQoIiIpDQogICAgICAgIHRpdGlrID0gWydceDFiWzE7OTJtLiAgICcsICdceDFiWzE7OTNtLi4gICcsICdceDFiWzE7OTZtLi4uICcsJ1x4MWJbMTs5Mm0uICAgJywgJ1x4MWJbMTs5M20uLiAgJywgJ1x4MWJbMTs5Nm0uLi4gJ10NCiAgICAgICAgZm9yIHggaW4gdGl0aWs6DQogICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcciAlc1slcyElc10gRGVsZXRpbmcgVG9rZW4vQ29va2llICVzJyUoTixNLE4seCkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gJXNTdWNjZXNzZnVsbHkgZGVsZXRlIFRva2VuL0Nvb2tpZS4uLiclKE4sSCxOLEgpKQ0KICAgICAgICBqYWxhbignXG4gJXNbJXPinJMlc10gUmV0cnVuIFNDIHR5cGUgIiVzcHl0aG9uIHJ1bi5weSVzIiclKE4sSCxOLEgsTikpO2V4aXQoKQ0KICAgIGVsc2U6DQogICAgICAgIGphbGFuKCdcbiAlc1slc8OXJXNdIFNvcnJ5IG1lbnUgWyVzJXMlc10gbW9kZXJhdGUgaW1wcm92ZW1lbnQuLi4hJyUoTixNLE4sTSxwZXBlayxOKSk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICByZXR1cm4gX19jcmFja19fKCkucGxlcnIoaWQpDQojIyMjIyMgQ1JBQ0sgSUQgUkFORE9NIE1BU1NBTCAjIyMjIw0KZGVmIF9uZ29jb2tfKF9fcHBrX18pOg0KICAgIHRyeToNCiAgICAgICAgcHJpbnQoIiVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNUQVJHRVQgSU5GTyVzIiUoTixCTSxOKSkNCiAgICAgICAgbmFueWFfa2V1biA9IGludChpbnB1dChmJyAlc1slcz8lc10gRW50ZXIgdGhlIHRhcmdldCBhbW91bnQgOiAlcyclKE4sSyxOLEgpKSkNCiAgICBleGNlcHQ6bmFueWFfa2V1bj0xDQogICAgcHJpbnQoZiIgJXNbJXPigKIlc10gdHlwZSAlc21lJXMgQ3JhY2sgZnJvbSBmcmllbmRzIGxpc3QiJShOLEgsTixILE4pKQ0KICAgIGZvciBtbmggaW4gcmFuZ2UobmFueWFfa2V1bik6DQogICAgICAgIG1uaCArPTENCiAgICAgICAgdHJ5OnVzZXIgPSBpbnB1dChmJyAlc1slcz8lc10gRW50ZXIgSUQvVW5hbWUgJXMlcyVzIDogJXMnJShOLEssTixILG1uaCxOLEgpKTtfbWVtZWtfID0gX19jb252ZXJ0X18odXNlcikNCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOnByaW50KGYiIHtOfVt7TX3Dl3tOfV0gVXNlcm5hbWUgb3IgSUQgaXMgbm90IHB1YmxpYyIpO2NvbnRpbnVlDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHp6eiA9IHJlcXVlc3RzLmdldChmImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAve19tZW1la18uZ2V0KCdfa29udG9sXycpfT9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49e19fcHBrX199IikuanNvbigpWyJmcmllbmRzIl0NCiAgICAgICAgICAgIGZvciB4IGluIHp6elsiZGF0YSJdOg0KICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WyJpZCJdKyI8PT4iK3hbIm5hbWUiXSsiXG4iKQ0KICAgICAgICBleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KICAgICAgICAgICAgamFsYW4oZicgJXNbJXPDlyVzXSBTb3JyeSAlc0ZyaWVuZHMgSUQgaXMgbm90IHB1YmxpYyVzJyUoTixNLE4sTSxOKSk7Y29udGludWUNCiMjIyMjIyBDUkFDSyBBTkdHT1RBIEdSVVAgUFVCTElLICMjIyMjDQpkZWYgY3JhY2tfZ3J1cCh1cmxfZ3JvdXAsa3VlaCk6DQogICAgdHJ5Og0KICAgICAgICBzb3BfZGV2ID0gQmVhdXRpZnVsU291cChyZXF1ZXN0cy5nZXQodXJsX2dyb3VwLCBjb29raWVzPWt1ZWgpLmNvbnRlbnQsICJodG1sLnBhcnNlciIpDQogICAgICAgIG1lbWJlcnMgPSBzb3BfZGV2LmZpbmQoImRpdiIsIGlkPSJvYmplY3RzX2NvbnRhaW5lciIpDQogICAgICAgIGZvciBkZXYgaW4gbWVtYmVycy5maW5kX2FsbCgidGFibGUiKToNCiAgICAgICAgICAgIHVzZXJfID0gZGV2WyJpZCJdLnJlcGxhY2UoIm1lbWJlcl8iLCAiIikNCiAgICAgICAgICAgIG5hbWFfID0gcmUuZmluZGFsbCgnPGltZyBhbHQ9IiguKiksIHByb2ZpbGUgcGljdHVyZSInLCBzdHIoZGV2KSlbMF0NCiAgICAgICAgICAgIHRyeTppZC5hcHBlbmQoZiJ7c3RyKHVzZXJfKX08PT57c3RyKG5hbWFfKX1cbiIpDQogICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfVt7SH3igKJ7Tn1dIFByb2Nlc3MgRHVtcCBJRCA6IHtIfXtsZW4oaWQpfSIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICBpZiAiTGloYXQgU2VsZW5na2FwbnlhIiBpbiBzdHIoc29wX2Rldik6DQogICAgICAgICAgICB1cmwgPSBzb3BfZGV2LmZpbmQoImEiLCBzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpWyJocmVmIl0NCiAgICAgICAgICAgIHVybF9ncnVwID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIrdXJsDQogICAgICAgICAgICBjcmFja19ncnVwKHVybF9ncm91cCxrdWVoKQ0KICAgIGV4Y2VwdDpwYXNzDQogICAgI19pXy5fX2NyYWNrX18oKS5wbGVycihpZCkNCiMjIyMjIyBDUkFDSyBMSUtFIFBPU1RJTkdBTiAjIyMjIw0KZGVmIGxpa2VfcG9zdChoZW5jZXQsIG1tayk6DQogICAgdHJ5Og0KICAgICAgICBrb250b2w9cmVxdWVzdHMuZ2V0KGhlbmNldCxjb29raWVzPW1taykudGV4dA0KICAgICAgICBpZiAiU2VtdWEgMCIgaW4ga29udG9sOg0KICAgICAgICAgICAgZXhpdCgiIFshXSBUaGVyZSBhcmUgbm8gcmVzcG9uc2VzIHRvIHRoaXMgcG9zdCIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBtZW1laz1yZS5maW5kYWxsKCdcPGgzXCBjbGFzc1w9XCIuLiJcPlw8YVwgaHJlZlw9XCIoLio/KSJcPiguKj8pPFwvYVw+Jyxrb250b2wpDQogICAgICAgICAgICBmb3Igc29mdGVrIGluIG1lbWVrOg0KICAgICAgICAgICAgICAgIGlmICJwcm9maWxlLnBocD8iIGluIHNvZnRla1swXToNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKHJlLmZpbmRhbGwoImlkPSguKikiLHNvZnRla1swXSlbMF0rIjw9PiIrc29mdGVrWzFdKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChyZS5maW5kYWxsKCIvKC4qKSIsc29mdGVrWzBdKVswXSsiPD0+Iitzb2Z0ZWtbMV0pDQogICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfVt7SH3igKJ7Tn1dIFByb2Nlc3MgRHVtcCBJRCA6IHtIfXtsZW4oaWQpfSIpO3N5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICAgICAgaWYgIkxpaGF0IFNlbGVuZ2thcG55YSIgaW4ga29udG9sOg0KICAgICAgICAgICAgICAgIGxpa2VfcG9zdCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIitCZWF1dGlmdWxTb3VwKGtvbnRvbCwiaHRtbC5wYXJzZXIiKS5maW5kKCJhIixzdHJpbmc9IkxpaGF0IFNlbGVuZ2thcG55YSIpLmdldCgiaHJlZiIpLCBtbWspDQogICAgZXhjZXB0OnBhc3MNCiAgICAjX2lfLl9fY3JhY2tfXygpLnBsZXJyKGlkKQ0KIyMjIyMjIENSQUNLIEtPTUVOVEFSICMjIyMjDQpkZWYgbmdvbWVuX3Bvc3QoaGVuY2V0LCB0b2tlbik6DQogICAgdHJ5Og0KICAgICAgICBrb250b2w9IHJlcXVlc3RzLmdldChoZW5jZXQsY29va2llcz10b2tlbixoZWFkZXJzPXsidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSJ9KS50ZXh0LmVuY29kZSgidXRmLTgiKQ0KICAgICAgICBtZW1layA9IEJlYXV0aWZ1bFNvdXAoa29udG9sLCdodG1sLnBhcnNlcicpDQogICAgICAgIGZvciBtbWsgaW4gbWVtZWsuZmluZF9hbGwoJ2gzJyk6DQogICAgICAgICAgICBmb3IgX2lkXyBpbiBtbWsuZmluZF9hbGwoJ2EnLGhyZWY9VHJ1ZSk6DQogICAgICAgICAgICAgICAgaWYgInByb2ZpbGUucGhwIiBpbiBfaWRfLmdldCgiaHJlZiIpOg0KICAgICAgICAgICAgICAgICAgICB4eiA9IF9pZF8uZ2V0KCJocmVmIikuc3BsaXQoJz0nKVsxXQ0KICAgICAgICAgICAgICAgICAgICBiYiA9IHh6LnNwbGl0KCcmJylbMF0NCiAgICAgICAgICAgICAgICAgICAgeGQgPSBfaWRfLnRleHQNCiAgICAgICAgICAgICAgICAgICAgaWQuYXBwZW5kKGJiKyc8PT4nK3hkKydcbicpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgeHogPSBfaWRfLmdldCgiaHJlZiIpLnNwbGl0KCc/JylbMF0NCiAgICAgICAgICAgICAgICAgICAgYmIgPSB4ei5zcGxpdCgnLycpWzFdDQogICAgICAgICAgICAgICAgICAgIHhkID0gX2lkXy50ZXh0DQogICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZChiYisnPD0+Jyt4ZCsnXG4nKQ0KICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7Tn1be0h94oCie059XSBQcm9jZXNzIER1bXAgSUQgOiB7SH17bGVuKGlkKX0iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgZm9yIGFzdSBpbiBtZW1lay5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCiAgICAgICAgICAgIGlmICJMaWhhdCBrb21lbnRhciBsYWlubnlhw6LigqzCpiIgaW4gYXN1LnRleHQ6DQogICAgICAgICAgICAgICAgbmdvbWVuX3Bvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iK2FzdS5nZXQoImhyZWYiKSwgdG9rZW4pDQogICAgZXhjZXB0OnBhc3MNCiAgICAjX2lfLl9fY3JhY2tfXygpLnBsZXJyKGlkKQ0KIyBVU0VSTkFNRSBDT05WRVJUIFRPIElEDQpkZWYgX19jb252ZXJ0X18obW1rKToNCiAgICBpZiAibWUiIGluIG1tazoNCiAgICAgICAgcmV0dXJuIHsiX2tvbnRvbF8iOm1ta30NCiAgICBlbGlmKHJlLmZpbmRhbGwoIlx3KyIsbW1rKSk6DQogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20ve21ta30/X3JkciIpLnRleHQNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgdXNlciA9IHJlLmZpbmRhbGwoJ1w7cmlkXD0oXGQrKVwmJyxzdHIocikpWzBdDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHVzZXIgPSBtbWsNCiAgICByZXR1cm4geyJfa29udG9sXyI6dXNlcn0NCiMgQ0hFS0VSIEFLVU4gQ0hFQ0tQT0lOVA0KZGVmIGdhYnV0KCk6DQogICAgZGlycyA9IG9zLmxpc3RkaXIoInJlc3VsdHMiKQ0KICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuICVzRklMRSBSRVNVTFQgQ1JBQ0slcyclKE4sQk0sTikpDQogICAgZm9yIGZpbGUgaW4gZGlyczoNCiAgICAgICAgcHJpbnQoIiBbJXMrJXNdICVzIiUoSCxOLGZpbGUpKQ0KICAgIGZpbGVzID0gaW5wdXQoIlxuICVzWyVzPyVzXSBFbnRlciBmaWxlIDogJXMiJShOLEssTixIKSkNCiAgICB0cnk6DQogICAgICAgIGJ1a2FfYmFqdSA9IG9wZW4oZidyZXN1bHRzL3tmaWxlc30nLCdyJykucmVhZGxpbmVzKCkNCiAgICBleGNlcHQgSU9FcnJvcjoNCiAgICAgICAgcHJpbnQoJ1xuIFshXSBTb3JyeSwgdGhlIGZpbGUgZG9lc250IGV4aXN0Jyk7dGltZS5zbGVlcCgyKTttb2NoX3lheWFuKCkNCiAgICB3dz1pbnB1dChmIntOfeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFt7TX0he059XSBQbGF5IGFpcnBsYW5lbW9kZSBmaXJzdC5cbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIHtOfVt7S30/e059XSBDaGFuZ2UgcGFzc3dvcmQgd2hlbiB7Qk19VEFQIFlFU3tOfSBbe0h9WXtOfS97TX10e059XToge0t9IikNCiAgICBpZiB3dyBpbiAoIlkiLCJ5IiwieWEiKToNCiAgICAgICAgdWJhaFAuYXBwZW5kKCJ5IikNCiAgICAgICAgcHJpbnQoZiJcbiB7Tn1be0h94oCie059XSBQYXNzd29yZCBleGFtcGxlIDoge0h9YWRtaW4xMjN7Tn0iKQ0KICAgICAgICBwd0Jhcj1pbnB1dChmIiBbe0t9P3tOfV0gRW50ZXIgbmV3IHBhc3N3b3JkIDoge0t9IikNCiAgICAgICAgaWYgbGVuKHB3QmFyKSA8PSA1Og0KICAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFBhc3N3b3JkIG1pbmltdW0gNiBjaGFyYWN0ZXJzJyUoTixNLE4pKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgcHdCYXJ1LmFwcGVuZChwd0JhcikNCiAgICBwcmludChmJyAlc1slc+KAoiVzXSBUb3RhbCAlcyVzJXMgYWNjb3VudCclKE4sSCxOLEgsc3RyKGxlbihidWthX2JhanUpKSxOKSkNCiAgICBwcmludCgiJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiJShOKSkNCiAgICBmb3IgbWVtZWsgaW4gYnVrYV9iYWp1Og0KICAgICAgICBrb250b2wgPSBtZW1lay5yZXBsYWNlKCdcbicsICcnKQ0KICAgICAgICB0aXRpZCAgPSBrb250b2wuc3BsaXQoJyDigKIgJykNCiAgICAgICAgcHJpbnQoZid7Tn3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiB7SH1MT0dJTiBQUk9DRVNTJykNCiAgICAgICAgamFsYW4oZicge059W3tNfT97Tn1dIEFjY291bnQgOiB7S317a29udG9sLnJlcGxhY2UoIltNUuKEolNBSkpBRC1DUF0gIiwgIiIpfXtOfScpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGxvZ19oYXNpbCh0aXRpZFswXS5yZXBsYWNlKCJbTVLihKJTQUpKQUQtQ1BdICIsICIiKSwgdGl0aWRbMV0pDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICBwcmludCgiIikNCiAgICBwcmludCgiIikNCiAgICBqYWxhbignICVzWyVz4pyTJXNdICVzQ2hlY2tpbmcgcHJvY2VzcyBpcyBjb21wbGV0ZSVzJyUoTixILE4sSCxOKSkNCiAgICBqYWxhbignICVzWyVz4pyTJXNdIFJldHJ1biBTQyB0eXBlICIlc3B5dGhvbiBydW4ucHklcyInJShOLEgsTixILE4pKTtleGl0KCkNCiMgQ0hFS1BPSU5UIERFVEVEVE9SDQpkZWYgbG9nX2hhc2lsKHVzZXIsIHBhc3cpOg0KICAgIGdsb2JhbCBhbWFuLGNwLHNhbGFoDQogICAgc2Vzc2lvbj1yZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICB1YXNfY2VrZGV0ZWtkb3IgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvZW5fRU47RkJBVi8yMzkuMC4wLjEwLjEwOTtdIg0KICAgIHNlc3Npb24uaGVhZGVycy51cGRhdGUoeyJIb3N0IjoibWJhc2ljLmZhY2Vib29rLmNvbSIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOmJhaGFzYSwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iLCJ1c2VyLWFnZW50Ijp1YXNfY2VrZGV0ZWtkb3J9KQ0KICAgIHNvdXA9QmVhdXRpZnVsU291cChzZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIpLnRleHQsImh0bWwucGFyc2VyIikNCiAgICBsaW5rPXNvdXAuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pDQogICAgZm9yIHggaW4gc291cCgiaW5wdXQiKToNCiAgICAgICAgZGF0YS51cGRhdGUoe3guZ2V0KCJuYW1lIik6eC5nZXQoInZhbHVlIil9KQ0KICAgIGRhdGEudXBkYXRlKHsiZW1haWwiOnVzZXIsInBhc3MiOnBhc3d9KQ0KICAgIHVybFBvc3Q9c2Vzc2lvbi5wb3N0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iK2xpbmsuZ2V0KCJhY3Rpb24iKSxkYXRhPWRhdGEpDQogICAgcmVzcG9uc2U9QmVhdXRpZnVsU291cCh1cmxQb3N0LnRleHQsICJodG1sLnBhcnNlciIpDQogICAgaWYgIlRlbXVrYW4gQWt1biBBbmRhIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlPiguKj8pPFwvdGl0bGU+IixzdHIodXJsUG9zdC50ZXh0KSk6DQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoJ1xyICVzWyVzISVzXSBUdXJuIG9uIGFpcnBsYW5lbW9kZSAyIHNlY29uZHMnJShOLE0sTikpLA0KICAgIGlmICJjX3VzZXIiIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICBpZiAiQWt1biBBbmRhIERpa3VuY2kiIGluIHVybFBvc3QudGV4dDoNCiAgICAgICAgICAgIHByaW50KGYiXHIge059W3tNfcOXe059XSBBY2NvdW50IGxvY2tlZCIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBjb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KICAgICAgICAgICAgb3BlbigncmVzdWx0cy9PS0UudHh0JywgJ2EnKS53cml0ZShmIlvinJNdIHt1c2VyfSDigKIge3Bhc3d9XG4iKQ0KICAgICAgICAgICAgamFsYW4oZiJcciB7Tn1be0h94pyTe059XSB7SH1BY2NvdW50IHVubG9ja2Vke059Iik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICAgICAgY2VrX2FwayhzZXNzaW9uLGNva2kpDQogICAgZWxpZiAiY2hlY2twb2ludCIgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgIHRpdGxlPXJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cihyZXNwb25zZSkpDQogICAgICAgIGxpbmsyPXJlc3BvbnNlLmZpbmQoImZvcm0iLHsibWV0aG9kIjoicG9zdCJ9KQ0KICAgICAgICBsaXN0SW5wdXQ9WydmYl9kdHNnJywnamF6b2VzdCcsJ2NoZWNrcG9pbnRfZGF0YScsJ3N1Ym1pdFtDb250aW51ZV0nLCduaCddDQogICAgICAgIGZvciB4IGluIHJlc3BvbnNlKCJpbnB1dCIpOg0KICAgICAgICAgICAgaWYgeC5nZXQoIm5hbWUiKSBpbiBsaXN0SW5wdXQ6DQogICAgICAgICAgICAgICAgZGF0YTIudXBkYXRlKHt4LmdldCgibmFtZSIpOnguZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgYW49c2Vzc2lvbi5wb3N0KHVybF9tYitsaW5rMi5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0YTIpDQogICAgICAgIHJlc3BvbnNlMj1CZWF1dGlmdWxTb3VwKGFuLnRleHQsImh0bWwucGFyc2VyIikNCiAgICAgICAgbnVtYmVyPTANCiAgICAgICAgY2VrPVtjZWsudGV4dCBmb3IgY2VrIGluIHJlc3BvbnNlMi5maW5kX2FsbCgib3B0aW9uIildDQogICAgICAgIGlmKGxlbihjZWspPT0wKToNCiAgICAgICAgICAgIGlmICJMaWhhdCBkZXRhaWwgbG9naW4geWFuZyBkaXRhbXBpbGthbi4gSW5pIEFuZGE/IiBpbiB0aXRsZToNCiAgICAgICAgICAgICAgICBpZiAieSIgaW4gdWJhaFA6DQogICAgICAgICAgICAgICAgICAgIG1tayA9IHB3QmFydQ0KICAgICAgICAgICAgICAgICAgICBqYWxhbihmIlxyIFt7SH3igKJ7Tn1dIFN0YXR1cyA6IHtCTX17UH1UQVAgWUVTe059Iik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICAgICAgICAgICAgICB1YmFoX3B3KHNlc3Npb24scmVzcG9uc2UsbGluazIsdXNlciwgbW1rKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIG1tayA9ICJhZG1pbk1S4oSiU0FKSkFEMTIzIg0KICAgICAgICAgICAgICAgICAgICBqYWxhbihmIlxyIFt7SH3igKJ7Tn1dIFN0YXR1cyA6IHtCTX17UH1UQVAgWUVTe059Iik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICAgICAgICAgICAgICB1YmFoX3B3KHNlc3Npb24scmVzcG9uc2UsbGluazIsdXNlciwgbW1rKQ0KICAgICAgICAgICAgZWxpZiAiTWFzdWthbiBLb2RlIE1hc3VrIHVudHVrIE1lbGFuanV0a2FuIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlPiguKj8pPFwvdGl0bGU+IixzdHIocmVzcG9uc2UpKToNCiAgICAgICAgICAgICAgICBwcmludCgnIFslcyElc10gU29ycnksIHRoZSBhY2NvdW50IGlzIGluc3RhbGxlZCBBMkYnJShNLE4pKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0VSUk9SLnR4dCcsICdhJykud3JpdGUoZiJbTVLihKJTQUpKQUQtQ1BdIHt1c2VyfSDigKIge3Bhc3d9XG4iKQ0KICAgICAgICAgICAgICAgIHByaW50KGYiIHtOfVt7TX0he059XSBFcnJvciIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBvcGVuKGYncmVzdWx0cy9DUC1ERVRFS1RPUi17aGF9LXtvcH0te3RhfS50eHQnLCAnYScpLndyaXRlKGYiW01S4oSiU0FKSkFELUNQXSB7dXNlcn0g4oCiIHtwYXN3fVxuIikNCiAgICAgICAgICAgIHByaW50KCIgJXNbJXPigKIlc10gVGhlcmUgYXJlICVzIG9wdGlvbnMgIiUoTixILE4sbGVuKGNlaykpKQ0KICAgICAgICBmb3Igb3B0IGluIHJhbmdlKGxlbihjZWspKToNCiAgICAgICAgICAgIHByaW50KGYiIFtceDFiWzE7OTJte3N0cihvcHQrMSl9XHgxYlswbV0gIitjZWtbb3B0XSkNCiAgICBlbHNlOg0KICAgICAgICBwcmludChmIlxyIHtOfVt7TX0he059XSBQYXNzd29yZCBpcyB3cm9uZyBvciBoYXMgYmVlbiBjaGFuZ2VkIikNCiAgICAgICAgb3BlbigncmVzdWx0cy9JTlZBTElELU9LLnR4dCcsICdhJykud3JpdGUoZiJbTVLihKJTQUpKQUQtQ1BdIHt1c2VyfSDigKIge3Bhc3d9XG4iKQ0KI1VCQUggUFcNCmRlZiB1YmFoX3B3KHNlc3Npb24scmVzcG9uc2UsbGluazIsdXNlcixtbWspOg0KICAgIGRhdCxkYXQyPXt9LHt9DQogICAgYnV0PVsic3VibWl0W1llc10iLCJuaCIsImZiX2R0c2ciLCJqYXpvZXN0IiwiY2hlY2twb2ludF9kYXRhIl0NCiAgICBmb3IgeCBpbiByZXNwb25zZSgiaW5wdXQiKToNCiAgICAgICAgaWYgeC5nZXQoIm5hbWUiKSBpbiBidXQ6DQogICAgICAgICAgICBkYXQudXBkYXRlKHt4LmdldCgibmFtZSIpOnguZ2V0KCJ2YWx1ZSIpfSkNCiAgICB1YmFoUHc9c2Vzc2lvbi5wb3N0KHVybF9tYitsaW5rMi5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0KS50ZXh0DQogICAgcmVzVWJhaD1CZWF1dGlmdWxTb3VwKHViYWhQdywiaHRtbC5wYXJzZXIiKQ0KICAgIGxpbmszPXJlc1ViYWguZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pDQogICAgYnV0Mj1bInN1Ym1pdFtOZXh0XSIsIm5oIiwiZmJfZHRzZyIsImphem9lc3QiXQ0KICAgIGlmICJCdWF0IEthdGEgU2FuZGkgQmFydSIgaW4gcmUuZmluZGFsbCgiXDx0aXRsZT4oLio/KTxcL3RpdGxlPiIsc3RyKHViYWhQdykpOg0KICAgICAgICBmb3IgYiBpbiByZXNVYmFoKCJpbnB1dCIpOg0KICAgICAgICAgICAgaWYgYi5nZXQoIm5hbWUiKSBpbiBidXQyOg0KICAgICAgICAgICAgICAgIGRhdDIudXBkYXRlKHtiLmdldCgibmFtZSIpOmIuZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgZGF0Mi51cGRhdGUoeyJwYXNzd29yZF9uZXciOiIiLmpvaW4obW1rKX0pDQogICAgICAgIGFuPXNlc3Npb24ucG9zdCh1cmxfbWIrbGluazMuZ2V0KCJhY3Rpb24iKSxkYXRhPWRhdDIpDQogICAgICAgIGNva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pDQogICAgICAgIHByaW50KGYiXHIge059W3tIfVRBUC1ZRVN7Tn1dIHtIfXt1c2VyfSDigKIgeycnLmpvaW4obW1rKX17Tn0iKQ0KICAgICAgICBwcmludChmIlxyIHtBfUNvb2tpZSA6IHtjb2tpfXtOfSIpDQogICAgICAgIG9wZW4oJ3Jlc3VsdHMvVEFCLVlFUy50eHQnLCAnYScpLndyaXRlKGYiW1RBUC1ZRVNdIHt1c2VyfSDigKIgeycnLmpvaW4obW1rKX1cbiIpDQogICAgICAgIGNla19hcGsoc2Vzc2lvbixjb2tpKQ0KIyBDRUsgQVBMSUtBU0kgWUFORyBURVJLQUlUDQpkZWYgY2VrX2FwayhzZXNzaW9uLGNva2kpOg0KICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCiAgICBpZiBsZW4oZ2FtZSk9PTA6DQogICAgICAgIHByaW50KGYnXHIgJXNbJXMhJXNdICVzU29ycnkgdGhlcmUgaXMgbm8gQWN0aXZlIEFwayVzICAnJShOLE0sTixNLE4pKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KGYnXHIg8J+OriAgJXNZb3VyIEFjdGl2ZSBBcHBsaWNhdGlvbiBEZXRhaWxzIDonJShIKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHIgJXMlcy4gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiRGl0YW1iYWhrYW4gcGFkYSIsIiBEaXRhbWJhaGthbiBwYWRhIiksTikpDQogICAgICAgICNlbHNlOg0KICAgICAgICAgICAgI3ByaW50KGYnXHIgJXNbJXMhJXNdIFNvcnJ5LCBBcGsgY2hlY2sgZmFpbGVkIGludmFsaWQgY29va2llJyUoTixNLE4pKQ0KICAgIHc9c2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KICAgIGlmIGxlbihnYW1lKT09MDoNCiAgICAgICAgcHJpbnQoZidcciAlc1slcyElc10gJXNTb3JyeSBubyBFeHBpcmVkIEFwayVzICAgICAgICAgICBcbiclKE4sTSxOLE0sTikpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoZidcciDwn46uICAlc1lvdXIgRXhwaXJlZCBBcHBsaWNhdGlvbiBEZXRhaWxzIDonJShNKSkNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCiAgICAgICAgICAgIHByaW50KGYiXHIgJXMlcy4gJXMlcyIlKE4saSsxLGdhbWVbaV0ucmVwbGFjZSgiS2VkYWx1d2Fyc2EiLCIgS2VkYWx1d2Fyc2EiKSxOKSkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50KGYnXHInKQ0KICAgICAgICAgICAgI3ByaW50KGYnXHIgJXNbJXMhJXNdIFNvcnJ5LCBBcGsgY2hlY2sgZmFpbGVkIGludmFsaWQgY29va2llXG4nJShOLE0sTikpDQojIE1VTEFJIENSQUNLDQpjbGFzcyBfX2NyYWNrX186DQogDQogICAgZGVmIF9faW5pdF9fKHNlbGYpOg0KICAgICAgICBzZWxmLmlkID0gW10NCiAgICAjIC0tLS0tLS0gTkFNUElMS0FOIEFQTElLQVNJIC0tLS0tLS0tDQogICAgZGVmIHRhbXBpbGthbl9hcGsoc2VsZik6DQogICAgICAgIHByaW50KCIlc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gRGlzcGxheWluZyB0aGUgYXBwbGljYXRpb24sIHRoZSBhY2NvdW50IHdpbGwgYmUgZWFzaWx5IGhpdCBieSBjaGVja3BvaW50cyBkdWUgdG8gdXNpbmcgZXhjZXNzaXZlIHJlcXVlc3QgbW9kdWxlcy4gSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIGRpc3BsYXkgdGhlIGFwcGxpY2F0aW9uIiUoTixNLE4pKQ0KICAgICAgICAjY3JvdCA9IGlucHV0KGYiIHtOfVt7S30/e059XSBFbnRlciBTQyBQYXNzd29yZCA6IHtIfSIpDQogICAgICAgIGNyb3QgPSBpbnB1dChmIiB7Tn1be0t9P3tOfV0gV2FudCB0byBzaG93IHJlbGF0ZWQgYXBwcyBbe0h9eXtOfS97TX10e059XTogIikNCiAgICAgICAgaWYgY3JvdCBpblsiIl06DQogICAgICAgICAgICBwcmludChmIiB7Tn1be019w5d7Tn1dIERvbid0IGJlIGVtcHR5Iik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiAgICAgICAgZWxpZiBjcm90IGluWyJZIiwieSJdOg0KICAgICAgICAgICAgQXBrLmFwcGVuZCgieSIpDQogICAgICAgIGVsaWYgY3JvdCBpblsiVCIsInQiXToNCiAgICAgICAgICAgIEFway5hcHBlbmQoInQiKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgI2phbGFuKGYiIHtOfVt7TX3Dl3tOfV0gU29ycnksIHdyb25nIHVzZXJuYW1lIik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiAgICAgICAgICAgIHByaW50KGYiIHtOfVt7TX3Dl3tOfV0gQ2hvb3NlIGJldHdlZW4geS90Iik7c2VsZi50YW1waWxrYW5fYXBrKCkNCiMgTUVUT0RFIFNBTkRJIE1BTlVBTA0KICAgIGRlZiBwbGVycihzZWxmLGlkKToNCiAgICAgICAgc2VsZi5pZCA9IGlkDQogICAgICAgIHByaW50KGYnXG4gJXNbJXPigKIlc10gVG90YWwgSUQgOiAlcyVzJXMnICUoTixILE4sSCxsZW4oc2VsZi5pZCksTikpDQogICAgICAgIF9fX3lheWFuZ2FudGVuZ19fXyA9IGlucHV0KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcz8lc10gRW50ZXIgU0MgUGFzc3dvcmQgKCVzcmVxdWlyZWQlcykgOiAlcyclKE4sSyxOLEgsTixIKSkNCiAgICAgICAgaWYgX19feWF5YW5nYW50ZW5nX19fIGluICgncmFyYVknLCAncmFyYXknKToNCiAgICAgICAgICAgIHNlbGYudGFtcGlsa2FuX2FwaygpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiAlc01BTlVBTCBQQVNTV09SRCBERVRBSUxTJXMnJShOLEJNLE4pKQ0KICAgICAgICAgICAgcHJpbnQoJyAlc1slcyElc10gVXNlICVzS09NTUElcyBmb3Igc2VwYXJhdG9yXG4gWyVz4oCiJXNdIEV4YW1wbGUgOiAlc01S4oSiU0FKSkFEMTIzJXMsJXNzYXlhbmclcywlc2Jpc21pbGxhaCclKE4sTSxOLEgsTixILE4sSCxOLEgsTixIKSkNCiAgICAgICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICAgICAgcHdlayA9IGlucHV0KCcgJXNbJXM/JXNdIEVudGVyIHBhc3N3b3JkIDogJXMnJShOLEssTixIKSkNCiAgICAgICAgICAgICAgICBwcmludCgnICVzWyVz4oCiJXNdIEFjdGl2ZSBQYXNzd29yZCA6ICVzJXMlcycgJSAoTixILE4sSCwgcHdlaywgTikpDQogICAgICAgICAgICAgICAgaWYgcHdlayA9PSAnJzoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gU29ycnksIGl0IGlzIHdyb25nLi4uISclKE4sTSxOKSkNCiAgICAgICAgICAgICAgICBlbGlmIGxlbihwd2VrKTw9NToNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gUGFzc3dvcmQgbWluaW11bSA2IGNoYXJhY3RlcnMnJShOLE0sTikpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgZGVmIF9feWFuX18oeXNjPU5vbmUpOiAjIHljcyA9PiBZYXlhbiBzYXlhbmcgQ2luZHk6Mw0KICAgICAgICAgICAgICAgICAgICAgICAgY2luID0gaW5wdXQoJ1xuICVzWyVzPyVzXSBDaG9vc2UgbWV0aG9kIDogJyUoTixLLE4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2luID09ICcnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFNvcnJ5LCBpdCBpcyB3cm9uZy4uLiEnJShOLE0sTikpO19feWFuX18oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBjaW4gPT0gJzEnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyslc10gT0sgOiByZXN1bHRzL09LLSVzLSVzLSVzLnR4dCclKE4sSCxOLGhhLCBvcCwgdGEpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBZYXlhbkdhbnRlbmcobWF4X3dvcmtlcnM9MzApIGFzIChfX3lheWFuWERfXyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpa2VoIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2ltb2NoaSA9IGlrZWguc3BsaXQoJzw9PicpWzBdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX195YXlhblhEX18uc3VibWl0KHNlbGYuX19tZXRvZGVfXywga2ltb2NoaSwgeXNjLCAiZnJlZS5mYWNlYm9vay5jb20iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OiBwYXNzDQogDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaWwob2ssY3ApDQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGNpbiA9PSAnMic6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gWyVzKyVzXSBPSyA6IHJlc3VsdHMvT0stJXMtJXMtJXMudHh0JyUoTixILE4saGEsIG9wLCB0YSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyAlc1slcyslc10gQ1AgOiByZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCclKE4sSyxOLGhhLCBvcCwgdGEpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gTXVzdCBhY3RpdmF0ZSBhaXJwbGFuZW1vZGUgb24gSUQgMzBcbiBbJXMhJXNdIFBsYXkgYmFjayBhaXJwbGFuZW1vZGUgZXZlcnkgNTAwIElEXG4gWyVzISVzXSBUbyBzdG9wICVzQ1RSTCtjJXMgb24ga2V5Ym9hcmRcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCclKE4sTSxOLE0sTixNLE4sSCxOKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIFlheWFuR2FudGVuZyhtYXhfd29ya2Vycz0zMCkgYXMgKF9feWF5YW5YRF9fKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGlrZWggaW4gc2VsZi5pZDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW1vY2hpID0gaWtlaC5zcGxpdCgnPD0+JylbMF0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3lheWFuWERfXy5zdWJtaXQoc2VsZi5fX21ldG9kZV9fLCBraW1vY2hpLCB5c2MsICJtYmFzaWMuZmFjZWJvb2suY29tIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDogcGFzcw0KIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2lsKG9rLGNwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBjaW4gPT0gJzMnOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyslc10gT0sgOiByZXN1bHRzL09LLSVzLSVzLSVzLnR4dCclKE4sSCxOLGhhLCBvcCwgdGEpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMhJXNdIE11c3QgYWN0aXZhdGUgYWlycGxhbmVtb2RlIG9uIElEIDMwXG4gWyVzISVzXSBQbGF5IGJhY2sgYWlycGxhbmVtb2RlIGV2ZXJ5IDUwMCBJRFxuIFslcyElc10gVG8gc3RvcCAlc0NUUkwrYyVzIG9uIGtleWJvYXJkXG7ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnJShOLE0sTixNLE4sTSxOLEgsTikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBZYXlhbkdhbnRlbmcobWF4X3dvcmtlcnM9MzApIGFzIChfX3lheWFuWERfXyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpa2VoIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2ltb2NoaSA9IGlrZWguc3BsaXQoJzw9PicpWzBdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX195YXlhblhEX18uc3VibWl0KHNlbGYuX19tZXRvZGVfXywga2ltb2NoaSwgeXNjLCAibWJhc2ljLmZhY2Vib29rLmNvbSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MNCiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNpbChvayxjcCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBbJXPDlyVzXSBTb3JyeSwgaXQgaXMgd3JvbmcuLi4hJyUoTixNLE4pKTtfX3lhbl9fKCkNCiAgICAgICAgICAgICAgICAgICAgbWVudG9kKCkNCiAgICAgICAgICAgICAgICAgICAgX195YW5fXyhwd2VrLnNwbGl0KCcsJykpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgIGVsaWYgX19feWF5YW5nYW50ZW5nX19fIGluICgnVEVERFlHQU5URU5HJywgJ1RlZGR5Z2FudGVuZycsICd0ZWRkeWdhbnRlbmcnKToNCiAgICAgICAgICAgIHNlbGYudGFtcGlsa2FuX2FwaygpDQogICAgICAgICAgICBtZW50b2QoKQ0KICAgICAgICAgICAgc2VsZi5fX3BsZXJfXygpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBqYWxhbignICVzWyVzw5clc10gU29ycnksIHdyb25nIFNDIFBhc3N3b3JkJyUoTixNLE4pKTtzZWxmLnBsZXJyKGlkKQ0KICAgICAgICAgICAgI3ByaW50KCdcbiAlc1slc8OXJXNdIFNvcnJ5LCBpdCBpcyB3cm9uZy4uLiEnJShOLE0sTikpO3NlbGYucGxlcnIoaWQpDQojIFBST1NFUyBDUkFDSyBNRVRPREUgMyBpbiAxDQogICAgZGVmIF9fbWV0b2RlX18oc2VsZiwgY2Vib2ssIHVzZXIsIHBhc3cpOg0KICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcA0KICAgICAgICBhbmltYXNpID0gcmFuZG9tLmNob2ljZShbIlx4MWJbMTs5MW1bP10iLCJceDFiWzE7OTJtWz9dIiwiXHgxYlsxOzkzbVs/XSIsIlx4MWJbMTs5NG1bP10iLCJceDFiWzE7OTVtWz9dIiwiXHgxYlsxOzk2bVs/XSIsIlx4MWJbMTs5N21bP10iXSkNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtOfXthbmltYXNpfSB7Tn17bG9vcH17Tn0ve019e2xlbihzZWxmLmlkKX0ge059W3tIfU9LOntsZW4ob2spfXtOfV1be0t9Q1A6e2xlbihjcCl9e059XSBbe0h9eyd7Oi4xJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihzZWxmLmlkKSkpfXtOfV0iKQ0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgdHJ5Om9zLm1rZGlyKCdyZXN1bHRzJykNCiAgICAgICAgZXhjZXB0OnBhc3MNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZm9yIHB3IGluIHBhc3c6DQogICAgICAgICAgICAgICAgcHcgPSBwdy5sb3dlcigpDQogICAgICAgICAgICAgICAgc2Vzc2lvbj1yZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICAgICAgICAgICAgICBuaXA9cmFuZG9tLmNob2ljZShwcm94KQ0KICAgICAgICAgICAgICAgIHByb3hzPSB7J2h0dHAnOiAnc29ja3M0Oi8vJytuaXB9DQogICAgICAgICAgICAgICAgdWExID0gcmFuZG9tLmNob2ljZShhZ2VuMSkNCiAgICAgICAgICAgICAgICB1YTIgPSByYW5kb20uY2hvaWNlKGFnZW4yKQ0KICAgICAgICAgICAgICAgICN1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICAgICAgICAgICAgICAjdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikNCiAgICAgICAgICAgICAgICBzZXNzaW9uLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6IGNlYm9rLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQ0KICAgICAgICAgICAgICAgIHAgPSBzZXNzaW9uLmdldCgnaHR0cHM6Ly8nK2NlYm9rKycvbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9Jyt1c2VyKycmZmxvdz1sb2dpbl9ub19waW4mbmV4dD1odHRwcyUzQSUyRiUyRm0uZmFjZWJvb2suY29tJTJGdjIuMyUyRmRpYWxvZyUyRm9hdXRoJTNGYXBwX2lkJTNEMTI0MDI0NTc0Mjg3NDE0JTI2Y2J0JTNEMTY1MTY1ODIwMDk3OCUyNmUyZSUzRCUyNTdCJTI1MjJpbml0JTI1MjIlMjUzQTE2NTE2NTgyMDA5NzglMjU3RCUyNnNzbyUzRGNocm9tZV9jdXN0b21fdGFiJTI2c2NvcGUlM0RlbWFpbCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCUyNnJlZGlyZWN0X3VyaSUzRGZiY29ubmVjdCUyNTNBJTI1MkYlMjUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCUyNnJlc3BvbnNlX3R5cGUlM0R0b2tlbiUyNTJDc2lnbmVkX3JlcXVlc3QlMjUyQ2dyYXBoX2RvbWFpbiUyNTJDZ3JhbnRlZF9zY29wZXMlMjZyZXR1cm5fc2NvcGVzJTNEdHJ1ZSUyNnJldCUzRGxvZ2luJTI2ZmJhcHBfcHJlcyUzRDAlMjZsb2dnZXJfaWQlM0Q2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjZ0cCUzRHVuc3BlY2lmaWVkJmNhbmNlbF91cmw9ZmJjb25uZWN0JTNBJTJGJTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTNGZXJyb3IlM0RhY2Nlc3NfZGVuaWVkJTI2ZXJyb3JfY29kZSUzRDIwMCUyNmVycm9yX2Rlc2NyaXB0aW9uJTNEUGVybWlzc2lvbnMlMkJlcnJvciUyNmVycm9yX3JlYXNvbiUzRHVzZXJfZGVuaWVkJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJmRpc3BsYXk9dG91Y2gmbG9jYWxlPWlkX0lEJnBsX2RibD0wJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQ0KICAgICAgICAgICAgICAgIGRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjp1c2VyLCJuZXh0IjoiaHR0cHM6Ly8iK2NlYm9rKyIvdjIuMy9kaWFsb2cvb2F1dGg/YXBwX2lkPTEyNDAyNDU3NDI4NzQxNCZjYnQ9MTY1MTY1ODIwMDk3OCZlMmU9JTdCJTIyaW5pdCUyMiUzQTE2NTE2NTgyMDA5NzglN0Qmc3NvPWNocm9tZV9jdXN0b21fdGFiJnNjb3BlPWVtYWlsJnN0YXRlPSU3QiUyMjBfYXV0aF9sb2dnZXJfaWQlMjIlM0ElMjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjIlMkMlMjI3X2NoYWxsZW5nZSUyMiUzQSUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTIyJTJDJTIyM19tZXRob2QlMjIlM0ElMjJjdXN0b21fdGFiJTIyJTdEJnJlZGlyZWN0X3VyaT1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAmcmVzcG9uc2VfdHlwZT10b2tlbiUyQ3NpZ25lZF9yZXF1ZXN0JTJDZ3JhcGhfZG9tYWluJTJDZ3JhbnRlZF9zY29wZXMmcmV0dXJuX3Njb3Blcz10cnVlJnJldD1sb2dpbiZmYmFwcF9wcmVzPTAmbG9nZ2VyX2lkPTY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiZ0cD11bnNwZWNpZmllZCIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9DQogICAgICAgICAgICAgICAga29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCiAgICAgICAgICAgICAgICBrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnDQogICAgICAgICAgICAgICAgaGVhZGU9eydIb3N0JzogY2Vib2ssJ2NhY2hlLWNvbnRyb2wnOiAnbWF4LWFnZT0wJywnc2VjLWNoLXVhJzogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSI5OCInLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywnc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsJ29yaWdpbic6ICdodHRwczovLycrY2Vib2ssJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdyZWZlcmVyJzogJ2h0dHBzOi8vJytjZWJvaysnL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScrdXNlcisnJmZsb3c9bG9naW5fbm9fcGluJm5leHQ9aHR0cHMlM0ElMkYlMkZtLmZhY2Vib29rLmNvbSUyRnYyLjMlMkZkaWFsb2clMkZvYXV0aCUzRmFwcF9pZCUzRDEyNDAyNDU3NDI4NzQxNCUyNmNidCUzRDE2NTE2NTgyMDA5NzglMjZlMmUlM0QlMjU3QiUyNTIyaW5pdCUyNTIyJTI1M0ExNjUxNjU4MjAwOTc4JTI1N0QlMjZzc28lM0RjaHJvbWVfY3VzdG9tX3RhYiUyNnNjb3BlJTNEZW1haWwlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QlMjZyZWRpcmVjdF91cmklM0RmYmNvbm5lY3QlMjUzQSUyNTJGJTI1MkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlMjZyZXNwb25zZV90eXBlJTNEdG9rZW4lMjUyQ3NpZ25lZF9yZXF1ZXN0JTI1MkNncmFwaF9kb21haW4lMjUyQ2dyYW50ZWRfc2NvcGVzJTI2cmV0dXJuX3Njb3BlcyUzRHRydWUlMjZyZXQlM0Rsb2dpbiUyNmZiYXBwX3ByZXMlM0QwJTI2bG9nZ2VyX2lkJTNENjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI2dHAlM0R1bnNwZWNpZmllZCZjYW5jZWxfdXJsPWZiY29ubmVjdCUzQSUyRiUyRmNjdC5jb20uaW5zdGF0aHVuZGVyLmFwcCUzRmVycm9yJTNEYWNjZXNzX2RlbmllZCUyNmVycm9yX2NvZGUlM0QyMDAlMjZlcnJvcl9kZXNjcmlwdGlvbiUzRFBlcm1pc3Npb25zJTJCZXJyb3IlMjZlcnJvcl9yZWFzb24lM0R1c2VyX2RlbmllZCUyNnN0YXRlJTNEJTI1N0IlMjUyMjBfYXV0aF9sb2dnZXJfaWQlMjUyMiUyNTNBJTI1MjI2OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYlMjUyMiUyNTJDJTI1MjI3X2NoYWxsZW5nZSUyNTIyJTI1M0ElMjUyMmRhaGoyOGhxdGlldG1ocmdwcnBwJTI1MjIlMjUyQyUyNTIyM19tZXRob2QlMjUyMiUyNTNBJTI1MjJjdXN0b21fdGFiJTI1MjIlMjU3RCZkaXNwbGF5PXRvdWNoJmxvY2FsZT1pZF9JRCZwbF9kYmw9MCZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJywnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywnYWNjZXB0LWxhbmd1YWdlJzogJ2lkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43J30NCiAgICAgICAgICAgICAgICBwbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly8nK2NlYm9rKycvbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAmbG9jYWxlMj1pZF9JRCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykNCiAgICAgICAgICAgICAgICBpZiAiY191c2VyIiBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToNCiAgICAgICAgICAgICAgICAgICAgY29veiA9IHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpDQogICAgICAgICAgICAgICAgICAgIGNva2kgPSAnZGF0cj0nICsgY29velsnZGF0ciddICsgJzsnICsgKCdjX3VzZXI9JyArIGNvb3pbJ2NfdXNlciddKSArICc7JyArICgnZnI9JyArIGNvb3pbJ2ZyJ10pICsgJzsnICsgKCd4cz0nICsgY29velsneHMnXSkNCiAgICAgICAgICAgICAgICAgICAgaWYgInQiIGluIEFwazoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdcciAlc1NUUlYgTElWRSBPSyAlcyAgICAgICAgICAgICAgIFxuIFVzZXJuYW1lIDogJXNcbiBQYXNzd29yZCA6ICVzJXMnJShILHdha3R1LHVzZXIscHcsTikpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyIHtIfUNvb2tpZSAgIDoge2Nva2l9XG4nKQ0KICAgICAgICAgICAgICAgICAgICBlbGlmICJ5IiBpbiBBcGs6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyICVzU1RSViBMSVZFIE9LICVzICAgICAgICAgICAgICAgXG4gVXNlcm5hbWUgOiAlc1xuIFBhc3N3b3JkIDogJXMlcyclKEgsd2FrdHUsdXNlcixwdyxOKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHIge0h9Q29va2llICAgOiB7Y29raX0nKQ0KICAgICAgICAgICAgICAgICAgICB3cnQgPSAnW01S4oSiU0FKSkFELU9LXSAlcyDigKIgJXMnICUgKHVzZXIscHcpDQogICAgICAgICAgICAgICAgICAgIG9rLmFwcGVuZCh3cnQpDQogICAgICAgICAgICAgICAgICAgIGNla19hcGsoc2Vzc2lvbixjb2tpKQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL09LLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICBjcF90dGwgPSBzZXNzaW9uLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t1c2VyfT9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPXt0b2tlbnp9JykuanNvbigpWydiaXJ0aGRheSddDQogICAgICAgICAgICAgICAgICAgICAgICBtb250aCwgZGF5LCB5ZWFyID0gY3BfdHRsLnNwbGl0KCcvJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyICVzU1RSViBMSVZFIENQICVzICAgICAgICAgICAgICAgXG4gVXNlcm5hbWUgOiAlc1xuIFBhc3N3b3JkIDogJXNcbiBUYW5nZ2FsIExhaGlyIDogJXMgJXMgJXMlc1xuJyUoSyx3YWt0dSx1c2VyLHB3LGRheSxtb250aCx5ZWFyLE4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgd3J0ID0gJ1tNUuKEolNBSkpBRC1DUF0gJXMg4oCiICVzIOKAoiAlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcikNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZCh3cnQpDQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6DQogICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9ICcnDQogICAgICAgICAgICAgICAgICAgICAgICBkYXkgICA9ICcnDQogICAgICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzDQogICAgICAgICAgICAgICAgICAgIHByaW50KCdcciAlc1NUUlYgTElWRSBDUCAlcyAgICAgICAgICAgICAgIFxuIFVzZXJuYW1lIDogJXNcbiBQYXNzd29yZCA6ICVzJXNcbiclKEssd2FrdHUsdXNlcixwdyxOKSkNCiAgICAgICAgICAgICAgICAgICAgd3J0ID0gJ1tNUuKEolNBSkpBRC1DUF0gJXMg4oCiICVzJyAlICh1c2VyLHB3KQ0KICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICAgICAgI3RpbWUuc2xlZXAoMzEpDQogICAgICAgICAgICBsb29wKz0xDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgIHNlbGYuX19tZXRvZGVfXyhjZWJvaywgdXNlciwgcGFzdykNCiANCiANCiAgICBkZWYgX19wbGVyX18oc2VsZik6DQogICAgICAgIHlhbiA9IGlucHV0KCdcbiAlc1slcz8lc10gQ2hvb3NlIE1ldGhvZCA6ICclKE4sSyxOKSkNCiAgICAgICAgaWYgeWFuID09ICcnOg0KICAgICAgICAgICAgcHJpbnQoJ1xuICVzWyVzw5clc10gU29ycnksIGl0IGlzIHdyb25nLi4uISclKE4sTSxOKSk7c2VsZi5fX3BsZXJfXygpDQogICAgICAgIGVsaWYgeWFuIGluICgnMScsICcwMScpOg0KICAgICAgICAgICAgeHggPSAiZnJlZS5mYWNlYm9vay5jb20iDQogICAgICAgICAgICBzZWxmLmtvbWJpbmFzaV9wdyh4eCkNCiAgICAgICAgZWxpZiB5YW4gaW4gKCcyJywgJzAyJyk6DQogICAgICAgICAgICB4eCA9ICJtYmFzaWMuZmFjZWJvb2suY29tIg0KICAgICAgICAgICAgc2VsZi5rb21iaW5hc2lfcHcoeHgpDQogICAgICAgIGVsaWYgeWFuIGluICgnMycsICcwMycpOg0KICAgICAgICAgICAgeHggPSAibS5mYWNlYm9vay5jb20iDQogICAgICAgICAgICBzZWxmLmtvbWJpbmFzaV9wdyh4eCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50KCdcbiAlc1slc8OXJXNdIFNvcnJ5LCBpdCBpcyB3cm9uZy4uLiEnJShOLE0sTikpO3NlbGYuX19wbGVyX18oKQ0KIA0KICAgIGRlZiBrb21iaW5hc2lfcHcoc2VsZix1cmwpOg0KICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiAlc1BBU1NXT1JEIE1FTlUlcyclKE4sQk0sTikpDQogICAgICAgIHByaW50KCcgJXNbJXMxJXNdIFJhbmRvbSBQYXNzd29yZCAxJyUoTixILE4pKQ0KICAgICAgICBwcmludCgnICVzWyVzMiVzXSBSYW5kb20gUGFzc3dvcmQgMiclKE4sSCxOKSkNCiAgICAgICAgcHJpbnQoJyAlc1slczMlc10gUmFuZG9tIFBhc3N3b3JkIDMsJXMrU2FuZGkgVGFtYmFoYW4lcyclKE4sSCxOLEgsTikpDQogICAgICAgIHB3ID0gaW5wdXQoZiJcbiB7Tn1be0t9P3tOfV0gQ2hvb3NlIFBhc3N3b3JkIE1ldGhvZCA6ICIpDQogICAgICAgIGlmIHB3IGluWyIiXToNCiAgICAgICAgICAgIHByaW50KGYiIHtOfVt7TX0he059XSBEb24ndCBiZSBlbXB0eSIpO3NlbGYua29tYmluYXNpX3B3KHVybCkNCiAgICAgICAgZWxpZiBwdyBpblsiMSIsIjAxIl06DQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMrJXNdIE9LIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnJShOLEgsTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gTXVzdCBhY3RpdmF0ZSBhaXJwbGFuZW1vZGUgb24gSUQgMzBcbiBbJXMhJXNdIFBsYXkgYmFjayBhaXJwbGFuZW1vZGUgZXZlcnkgNTAwIElEXG4gWyVzISVzXSBUbyBzdG9wICVzQ1RSTCtjJXMgb24ga2V5Ym9hcmRcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCclKE4sTSxOLE0sTixNLE4sSCxOKSkNCiAgICAgICAgICAgIHdpdGggWWF5YW5HYW50ZW5nKG1heF93b3JrZXJzPTM1KSBhcyBraXJpbToNCiAgICAgICAgICAgICAgICBmb3IgeW50a3RzIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJzw9PicpDQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpDQogICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSJdDQogICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiXQ0KICAgICAgICAgICAgICAgICAgICAgICBraXJpbS5zdWJtaXQoc2VsZi5fX21ldG9kZV9fLHVybCx1aWQscHd4KQ0KICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzDQogICAgICAgICAgICBoYXNpbChvayxjcCkNCiAgICAgICAgZWxpZiBwdyBpblsiMiIsIjAyIl06DQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMrJXNdIE9LIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnJShOLEgsTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gTXVzdCBhY3RpdmF0ZSBhaXJwbGFuZW1vZGUgb24gSUQgMzBcbiBbJXMhJXNdIFBsYXkgYmFjayBhaXJwbGFuZW1vZGUgZXZlcnkgNTAwIElEXG4gWyVzISVzXSBUbyBzdG9wICVzQ1RSTCtjJXMgb24ga2V5Ym9hcmRcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCclKE4sTSxOLE0sTixNLE4sSCxOKSkNCiAgICAgICAgICAgIHdpdGggWWF5YW5HYW50ZW5nKG1heF93b3JrZXJzPTM1KSBhcyBraXJpbToNCiAgICAgICAgICAgICAgICBmb3IgeW50a3RzIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJzw9PicpDQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpDQogICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiLCB4elswXSt4elsxXV0NCiAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiLCB4elswXSt4elsxXV0NCiAgICAgICAgICAgICAgICAgICAgICAga2lyaW0uc3VibWl0KHNlbGYuX19tZXRvZGVfXyx1cmwsdWlkLHB3eCkNCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgaGFzaWwob2ssY3ApDQogICAgICAgIGVsaWYgcHcgaW5bIjMiLCIwMyJdOg0KICAgICAgICAgICAgcHJpbnQoJyVz4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4gJXNBRERJVElPTkFMIFBBU1NXT1JEIE1FTlUlcyclKE4sQk0sTikpDQogICAgICAgICAgICAjcHJpbnQoIiAlc1slcyElc10gU2VtYWtpbiBiYW55YWsga29tYmluYXNpIHBhc3N3b3JkIHNlbWFraW4gbGFtYSBwcm9zZXMgY3JhY2shIiUoTixNLE4pKQ0KICAgICAgICAgICAgcHJpbnQoIiAlc1slcyElc10gVXNlICVzS09NTUElcyBmb3Igc2VwYXJhdG9yIiUoTixNLE4sSCxOKSkNCiAgICAgICAgICAgIHByaW50KCIgJXNbJXMhJXNdIEV4YW1wbGUgOiAlc3NheWFuZyxyYWhhc2lhLGJpc21pbGxhaCVzIiUoTixNLE4sSCxOKSkNCiAgICAgICAgICAgIHB3ID0gaW5wdXQoZiIge059W3tLfT97Tn1dIEVudGVyIGFkZGl0aW9uYWwgcGFzc3dvcmQgOiB7SH0iKS5zcGxpdCgiLCIpDQogICAgICAgICAgICBwcmludCgnJXPilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBcbiBbJXMrJXNdIE9LIDogcmVzdWx0cy9PSy0lcy0lcy0lcy50eHQnJShOLEgsTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCcgJXNbJXMrJXNdIENQIDogcmVzdWx0cy9DUC0lcy0lcy0lcy50eHQnJShOLEssTixoYSwgb3AsIHRhKSkNCiAgICAgICAgICAgIHByaW50KCclc+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxuIFslcyElc10gTXVzdCBhY3RpdmF0ZSBhaXJwbGFuZW1vZGUgb24gSUQgMzBcbiBbJXMhJXNdIFBsYXkgYmFjayBhaXJwbGFuZW1vZGUgZXZlcnkgNTAwIElEXG4gWyVzISVzXSBUbyBzdG9wICVzQ1RSTCtjJXMgb24ga2V5Ym9hcmRcbuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCclKE4sTSxOLE0sTixNLE4sSCxOKSkNCiAgICAgICAgICAgIHdpdGggWWF5YW5HYW50ZW5nKG1heF93b3JrZXJzPTM1KSBhcyBraXJpbToNCiAgICAgICAgICAgICAgICBmb3IgeW50a3RzIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJzw9PicpDQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpDQogICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHh4eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiLCB4elswXSt4elsxXV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IHh4eCArIHB3DQogICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICB4eHggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dDQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSB4eHggKyBwdw0KICAgICAgICAgICAgICAgICAgICAgICBraXJpbS5zdWJtaXQoc2VsZi5fX21ldG9kZV9fLHVybCx1aWQscHd4KQ0KICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzDQogICAgICAgICAgICBoYXNpbChvayxjcCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50KGYiXG4ge059W3tNfSF7Tn1dIENvcnJlY3QgaW5wdXQiKTtzZWxmLmtvbWJpbmFzaV9wdyh1cmwpDQogDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIGNla19wdygpO21vY2hfeWF5YW4oKQ0KICAgICNjZWtfcHcoKQ0KIA=="))